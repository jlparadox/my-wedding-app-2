(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('rxjs/BehaviorSubject'), require('rxjs/operators/filter'), require('@angular/core'), require('@angular/platform-browser'), require('rxjs/operators/map'), require('@angular/common'), require('rxjs/operators/tap'), require('rxjs/observable/fromEvent'), require('rxjs/operators/debounceTime'), require('rxjs/Subject'), require('rxjs/operators/switchMap'), require('rxjs/observable/zip')) :
    typeof define === 'function' && define.amd ? define('@ngx-gallery/core', ['exports', 'rxjs/BehaviorSubject', 'rxjs/operators/filter', '@angular/core', '@angular/platform-browser', 'rxjs/operators/map', '@angular/common', 'rxjs/operators/tap', 'rxjs/observable/fromEvent', 'rxjs/operators/debounceTime', 'rxjs/Subject', 'rxjs/operators/switchMap', 'rxjs/observable/zip'], factory) :
    (factory((global['ngx-gallery'] = global['ngx-gallery'] || {}, global['ngx-gallery'].core = {}),global.rxjs.BehaviorSubject,global.rxjs['operators/filter'],global.ng.core,global.ng.platformBrowser,global.rxjs['operators/map'],global.ng.common,global.rxjs['operators/tap'],global.rxjs['observable/fromEvent'],global.rxjs['operators/debounceTime'],global.rxjs.Subject,global.rxjs['operators/switchMap'],global.rxjs['observable/zip']));
}(this, (function (exports,BehaviorSubject,filter,core,platformBrowser,map,common,tap,fromEvent,debounceTime,Subject,switchMap,zip) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    var __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s)
                if (Object.prototype.hasOwnProperty.call(s, p))
                    t[p] = s[p];
        }
        return t;
    };
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {string} */
    var GalleryAction = {
        INITIALIZED: 'initialized',
        ITEMS_CHANGED: 'itemsChanged',
        INDEX_CHANGED: 'indexChanged',
        OPENED: 'opened',
        CLOSED: 'closed',
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * Initial state
     */
    var /** @type {?} */ defaultState = {
        action: GalleryAction.INITIALIZED,
        currIndex: 0,
        hasNext: false,
        hasPrev: false,
        items: []
    };
    var /** @type {?} */ defaultConfig = {
        gestures: true,
        panSensitivity: 25,
        counter: true,
        nav: true,
        dots: false,
        thumb: true,
        thumbWidth: 120,
        thumbHeight: 90,
        thumbPosition: 'bottom',
        disableThumb: false,
        slidingDirection: 'horizontal',
        zoomOut: 0,
        loadingIcon: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg stroke=\"#fff\" viewBox=\"0 0 44 44\" xmlns=\"http://www.w3.org/2000/svg\">\n<g fill=\"none\" fill-rule=\"evenodd\" stroke-width=\"2\">\n<circle cx=\"22\" cy=\"22\" r=\"1\">\n<animate attributeName=\"r\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/>\n<animate attributeName=\"stroke-opacity\" begin=\"0s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/>\n</circle>\n<circle cx=\"22\" cy=\"22\" r=\"1\">\n<animate attributeName=\"r\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.165, 0.84, 0.44, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 20\"/>\n<animate attributeName=\"stroke-opacity\" begin=\"-0.9s\" calcMode=\"spline\" dur=\"1.8s\" keySplines=\"0.3, 0.61, 0.355, 1\" keyTimes=\"0; 1\" repeatCount=\"indefinite\" values=\"1; 0\"/>\n</circle>\n</g>\n</svg>"
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryRef = (function () {
        function GalleryRef(config, state) {
            if (config === void 0) {
                config = defaultConfig;
            }
            if (state === void 0) {
                state = defaultState;
            }
            this.config = config;
            this.state = state;
            this.state$ = new BehaviorSubject.BehaviorSubject(state);
            this.config$ = new BehaviorSubject.BehaviorSubject(defaultConfig);
            this.setConfig(config);
        }
        /**
         * Set gallery config
         * @param config
         */
        /**
         * Set gallery config
         * @param {?} config
         * @return {?}
         */
        GalleryRef.prototype.setConfig = /**
         * Set gallery config
         * @param {?} config
         * @return {?}
         */
            function (config) {
                this.config = __assign({}, defaultConfig, this.config, config);
                this.config$.next(this.config);
            };
        /**
         * Set gallery state
         * @param state
         */
        /**
         * Set gallery state
         * @param {?} state
         * @return {?}
         */
        GalleryRef.prototype.setState = /**
         * Set gallery state
         * @param {?} state
         * @return {?}
         */
            function (state) {
                this.state = __assign({}, this.state, state);
                this.state$.next(this.state);
            };
        /** Add gallery item
         * @param item - Gallery item object
         * @param active - Set the new item as current slide
         */
        /**
         * Add gallery item
         * @param {?} item - Gallery item object
         * @param {?=} active - Set the new item as current slide
         * @return {?}
         */
        GalleryRef.prototype.add = /**
         * Add gallery item
         * @param {?} item - Gallery item object
         * @param {?=} active - Set the new item as current slide
         * @return {?}
         */
            function (item, active) {
                var /** @type {?} */ items = __spread(this.state.items, [item]);
                this.setState({
                    action: GalleryAction.ITEMS_CHANGED,
                    items: items,
                    hasNext: items.length > 1,
                    currIndex: active ? items.length - 1 : this.state.currIndex
                });
            };
        /** Remove gallery item
         * @param i - Item index
         */
        /**
         * Remove gallery item
         * @param {?} i - Item index
         * @return {?}
         */
        GalleryRef.prototype.remove = /**
         * Remove gallery item
         * @param {?} i - Item index
         * @return {?}
         */
            function (i) {
                var /** @type {?} */ items = __spread(this.state.items.slice(0, i), this.state.items.slice(i + 1, this.state.items.length));
                this.setState({
                    action: GalleryAction.ITEMS_CHANGED,
                    items: items,
                    hasNext: items.length > 1,
                    hasPrev: i > 0
                });
            };
        /**
         * Load items and reset the state
         * @param items - Gallery images data
         */
        /**
         * Load items and reset the state
         * @param {?} items - Gallery images data
         * @return {?}
         */
        GalleryRef.prototype.load = /**
         * Load items and reset the state
         * @param {?} items - Gallery images data
         * @return {?}
         */
            function (items) {
                if (items) {
                    this.setState({
                        action: GalleryAction.ITEMS_CHANGED,
                        items: items,
                        hasNext: items.length > 1,
                        hasPrev: false
                    });
                }
            };
        /**
         * Set active item
         * @param i - Active Index
         * @param action - Action type
         */
        /**
         * Set active item
         * @param {?} i - Active Index
         * @return {?}
         */
        GalleryRef.prototype.set = /**
         * Set active item
         * @param {?} i - Active Index
         * @return {?}
         */
            function (i) {
                if (i !== this.state.currIndex) {
                    this.setState({
                        action: GalleryAction.INDEX_CHANGED,
                        currIndex: i,
                        hasNext: i < this.state.items.length - 1,
                        hasPrev: i > 0
                    });
                }
            };
        /**
         * Next item
         */
        /**
         * Next item
         * @return {?}
         */
        GalleryRef.prototype.next = /**
         * Next item
         * @return {?}
         */
            function () {
                if (this.state.hasNext) {
                    this.set(this.state.currIndex + 1);
                }
                else if (this.config.loop) {
                    this.set(0);
                }
            };
        /**
         * Prev item
         */
        /**
         * Prev item
         * @return {?}
         */
        GalleryRef.prototype.prev = /**
         * Prev item
         * @return {?}
         */
            function () {
                if (this.state.hasPrev) {
                    this.set(this.state.currIndex - 1);
                }
                else if (this.config.loop) {
                    this.set(this.state.items.length - 1);
                }
            };
        /**
         * Reset gallery to initial state
         */
        /**
         * Reset gallery to initial state
         * @return {?}
         */
        GalleryRef.prototype.reset = /**
         * Reset gallery to initial state
         * @return {?}
         */
            function () {
                this.setState(defaultState);
            };
        /**
         * Destroy GalleryRef (for internal use only)
         */
        /**
         * Destroy GalleryRef (for internal use only)
         * @return {?}
         */
        GalleryRef.prototype.destroy = /**
         * Destroy GalleryRef (for internal use only)
         * @return {?}
         */
            function () {
                this.state$.complete();
                this.config$.complete();
            };
        /** Gallery Events */
        /**
         * Stream that emits when gallery is initialized/reset
         */
        /**
         * Stream that emits when gallery is initialized/reset
         * @return {?}
         */
        GalleryRef.prototype.initialized = /**
         * Stream that emits when gallery is initialized/reset
         * @return {?}
         */
            function () {
                return this.state$.pipe(filter.filter(function (state) { return state.action === GalleryAction.INITIALIZED; }));
            };
        /**
         * Stream that emits when items is changed (items loaded, item added, item removed)
         */
        /**
         * Stream that emits when items is changed (items loaded, item added, item removed)
         * @return {?}
         */
        GalleryRef.prototype.itemsChanged = /**
         * Stream that emits when items is changed (items loaded, item added, item removed)
         * @return {?}
         */
            function () {
                return this.state$.pipe(filter.filter(function (state) { return state.action === GalleryAction.ITEMS_CHANGED; }));
            };
        /**
         * Stream that emits when current item is changed
         */
        /**
         * Stream that emits when current item is changed
         * @return {?}
         */
        GalleryRef.prototype.indexChanged = /**
         * Stream that emits when current item is changed
         * @return {?}
         */
            function () {
                return this.state$.pipe(filter.filter(function (state) { return state.action === GalleryAction.INDEX_CHANGED; }));
            };
        return GalleryRef;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ GALLERY_CONFIG = new core.InjectionToken('galleryConfig');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var Gallery = (function () {
        function Gallery(config) {
            /**
             * Stores GalleryRef instances
             */
            this._instances = {};
            this.config = __assign({}, defaultConfig, config);
        }
        /**
         * Returns Gallery by ID
         */
        /**
         * Returns Gallery by ID
         * @param {?=} id
         * @param {?=} config
         * @return {?}
         */
        Gallery.prototype.ref = /**
         * Returns Gallery by ID
         * @param {?=} id
         * @param {?=} config
         * @return {?}
         */
            function (id, config) {
                if (id === void 0) {
                    id = 'root';
                }
                if (this._instances[id] instanceof GalleryRef) {
                    return this._instances[id];
                }
                else {
                    config = __assign({}, this.config, config);
                    return this._instances[id] = new GalleryRef(config);
                }
            };
        /**
         * @param {?=} id
         * @return {?}
         */
        Gallery.prototype.destroy = /**
         * @param {?=} id
         * @return {?}
         */
            function (id) {
                if (id === void 0) {
                    id = 'root';
                }
                if (this._instances[id] instanceof GalleryRef) {
                    this._instances[id].destroy();
                    this._instances[id] = null;
                }
            };
        /**
         * @return {?}
         */
        Gallery.prototype.destroyAll = /**
         * @return {?}
         */
            function () {
                var _this = this;
                Object.keys(this._instances)
                    .map(function (key) {
                    _this._instances[key].destory();
                    _this._instances[key] = null;
                });
            };
        /**
         * @return {?}
         */
        Gallery.prototype.resetAll = /**
         * @return {?}
         */
            function () {
                var _this = this;
                Object.keys(this._instances)
                    .map(function (id) {
                    if (id === void 0) {
                        id = 'root';
                    }
                    return _this._instances[id].gallery;
                })
                    .map(function (gallery) { return gallery.reset(); });
            };
        Gallery.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        Gallery.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: core.Inject, args: [GALLERY_CONFIG,] },] },
            ];
        };
        return Gallery;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ImageItemComponent = (function () {
        function ImageItemComponent(gallery, sanitizer) {
            this.gallery = gallery;
            this.sanitizer = sanitizer;
        }
        ImageItemComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'image-item',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <div [lazyImage]=\"data?.src\" (loading)=\"loading = $event\"></div>\n    <i class=\"g-loading\" *ngIf=\"loading\" [innerHTML]=\"sanitizer.bypassSecurityTrustHtml(gallery.config.loadingIcon)\"></i>\n  ",
                        styles: ["\n    :host {\n      position: relative;\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n    div {\n      background-position: center center;\n      background-size: cover;\n      width: 100%;\n      height: 100%;\n    }\n  "],
                    },] },
        ];
        /** @nocollapse */
        ImageItemComponent.ctorParameters = function () {
            return [
                { type: Gallery, },
                { type: platformBrowser.DomSanitizer, },
            ];
        };
        ImageItemComponent.propDecorators = {
            "data": [{ type: core.Input },],
        };
        return ImageItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var VideoItemComponent = (function () {
        function VideoItemComponent(sanitizer) {
            this.sanitizer = sanitizer;
        }
        VideoItemComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'video-item',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <video controls\n           [src]=\"sanitizer.bypassSecurityTrustResourceUrl(data?.src)\"\n           [poster]=\"sanitizer.bypassSecurityTrustResourceUrl(data?.poster)\"></video>\n  ",
                        styles: ["\n    video {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n    }\n  "]
                    },] },
        ];
        /** @nocollapse */
        VideoItemComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer, },
            ];
        };
        VideoItemComponent.propDecorators = {
            "data": [{ type: core.Input },],
        };
        return VideoItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var IframeItemComponent = (function () {
        function IframeItemComponent(sanitizer) {
            this.sanitizer = sanitizer;
        }
        IframeItemComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'iframe-item',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <iframe frameborder=\"0\"\n            allowfullscreen\n            [src]=\"sanitizer.bypassSecurityTrustResourceUrl(data?.src)\"></iframe>\n  ",
                        styles: ["\n    iframe {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n    }\n  "]
                    },] },
        ];
        /** @nocollapse */
        IframeItemComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer, },
            ];
        };
        IframeItemComponent.propDecorators = {
            "data": [{ type: core.Input },],
        };
        return IframeItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ThumbnailItemComponent = (function () {
        function ThumbnailItemComponent() {
        }
        ThumbnailItemComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'thumbnail-item',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <div [lazyImage]=\"data.thumb\"></div>\n  ",
                        styles: ["\n    :host {\n      width: 100%;\n      height: 100%;\n    }\n    div {\n      width: 100%;\n      height: 100%;\n      background-size: cover;\n      background-position: center center;\n    }\n  "]
                    },] },
        ];
        /** @nocollapse */
        ThumbnailItemComponent.ctorParameters = function () { return []; };
        ThumbnailItemComponent.propDecorators = {
            "data": [{ type: core.Input },],
        };
        return ThumbnailItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ImageItem = (function () {
        function ImageItem(src, thumb) {
            this.component = ImageItemComponent;
            this.thumbComponent = ThumbnailItemComponent;
            this.data = { src: src, thumb: thumb };
        }
        return ImageItem;
    }());
    var VideoItem = (function () {
        function VideoItem(src, thumb, poster) {
            this.component = VideoItemComponent;
            this.thumbComponent = ThumbnailItemComponent;
            this.data = { src: src, thumb: thumb, poster: poster };
        }
        return VideoItem;
    }());
    var IframeItem = (function () {
        function IframeItem(src, thumb) {
            this.component = IframeItemComponent;
            this.thumbComponent = ThumbnailItemComponent;
            this.data = { src: src, thumb: thumb };
        }
        return IframeItem;
    }());
    var YoutubeItem = (function () {
        function YoutubeItem(src, thumb) {
            this.component = IframeItemComponent;
            this.thumbComponent = ThumbnailItemComponent;
            this.data = {
                src: "//youtube.com/embed/" + src + "?wmode=transparent",
                thumb: thumb ? thumb : "//img.youtube.com/vi/" + src + "/default.jpg"
            };
        }
        return YoutubeItem;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryComponent = (function () {
        function GalleryComponent(_gallery) {
            this._gallery = _gallery;
            this.gestures = this._gallery.config.gestures;
            this.panSensitivity = this._gallery.config.panSensitivity;
            this.zoomOut = this._gallery.config.zoomOut;
            this.dots = this._gallery.config.dots;
            this.thumb = this._gallery.config.thumb;
            this.nav = this._gallery.config.nav;
            this.counter = this._gallery.config.counter;
            this.thumbWidth = this._gallery.config.thumbWidth;
            this.thumbHeight = this._gallery.config.thumbHeight;
            this.disableThumb = this._gallery.config.disableThumb;
            this.thumbPosition = this._gallery.config.thumbPosition;
            this.slidingDirection = this._gallery.config.slidingDirection;
            this.destroyRef = true;
            this.indexChange = new core.EventEmitter();
            this.itemsChange = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        GalleryComponent.prototype.getConfig = /**
         * @return {?}
         */
            function () {
                return {
                    gestures: this.gestures,
                    panSensitivity: this.panSensitivity,
                    zoomOut: this.zoomOut,
                    counter: this.counter,
                    nav: this.nav,
                    dots: this.dots,
                    thumb: this.thumb,
                    thumbWidth: this.thumbWidth,
                    thumbHeight: this.thumbHeight,
                    thumbPosition: this.thumbPosition,
                    disableThumb: this.disableThumb,
                    slidingDirection: this.slidingDirection
                };
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.onIndexChange = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                switch (i) {
                    case 'next':
                        this.galleryRef.next();
                        break;
                    case 'prev':
                        this.galleryRef.prev();
                        break;
                    default:
                        this.galleryRef.set(i);
                }
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                if (this.galleryRef instanceof GalleryRef) {
                    this.galleryRef.setConfig(this.getConfig());
                    if (this.items !== this.galleryRef.state.items) {
                        this.load(this.items);
                    }
                }
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // Get gallery instance by id
                this.galleryRef = this._gallery.ref(this.id);
                this.galleryRef.setConfig(this.getConfig());
                this.load(this.items);
                /** Subscribes to indexChange and itemsChange events when user bind them */
                if (this.indexChange.observers.length) {
                    this._indexChange$ = this.galleryRef.indexChanged().subscribe(function (e) { return _this.indexChange.next(e); });
                }
                if (this.itemsChange.observers.length) {
                    this._itemChange$ = this.galleryRef.itemsChanged().subscribe(function (e) { return _this.itemsChange.next(e); });
                }
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this._indexChange$) {
                    this._indexChange$.unsubscribe();
                }
                if (this._itemChange$) {
                    this._itemChange$.unsubscribe();
                }
                if (this.destroyRef) {
                    this.galleryRef.reset();
                }
            };
        /**
         * @param {?} items
         * @return {?}
         */
        GalleryComponent.prototype.load = /**
         * @param {?} items
         * @return {?}
         */
            function (items) {
                this.galleryRef.load(items);
            };
        /**
         * @param {?} item
         * @param {?=} active
         * @return {?}
         */
        GalleryComponent.prototype.add = /**
         * @param {?} item
         * @param {?=} active
         * @return {?}
         */
            function (item, active) {
                this.galleryRef.add(item, active);
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.remove = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.galleryRef.remove(i);
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.next = /**
         * @return {?}
         */
            function () {
                this.galleryRef.next();
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.prev = /**
         * @return {?}
         */
            function () {
                this.galleryRef.prev();
            };
        /**
         * @param {?} i
         * @return {?}
         */
        GalleryComponent.prototype.set = /**
         * @param {?} i
         * @return {?}
         */
            function (i) {
                this.galleryRef.set(i);
            };
        /**
         * @return {?}
         */
        GalleryComponent.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.galleryRef.reset();
            };
        GalleryComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <gallery-core [state]=\"galleryRef.state$ | async\"\n                  [config]=\"galleryRef.config$ | async\"\n                  (indexChange)=\"onIndexChange($event)\"></gallery-core>\n    <ng-content></ng-content>\n  "
                    },] },
        ];
        /** @nocollapse */
        GalleryComponent.ctorParameters = function () {
            return [
                { type: Gallery, },
            ];
        };
        GalleryComponent.propDecorators = {
            "id": [{ type: core.Input },],
            "items": [{ type: core.Input },],
            "gestures": [{ type: core.Input },],
            "panSensitivity": [{ type: core.Input },],
            "zoomOut": [{ type: core.Input },],
            "dots": [{ type: core.Input },],
            "thumb": [{ type: core.Input },],
            "nav": [{ type: core.Input },],
            "counter": [{ type: core.Input },],
            "thumbWidth": [{ type: core.Input },],
            "thumbHeight": [{ type: core.Input },],
            "disableThumb": [{ type: core.Input },],
            "thumbPosition": [{ type: core.Input },],
            "slidingDirection": [{ type: core.Input },],
            "destroyRef": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
            "itemsChange": [{ type: core.Output },],
        };
        return GalleryComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryCoreComponent = (function () {
        function GalleryCoreComponent() {
            this.indexChange = new core.EventEmitter();
        }
        Object.defineProperty(GalleryCoreComponent.prototype, "thumbPosition", {
            get: /**
             * Set thumbnails position ('top' | 'left' | 'right' | 'bottom')
             * @return {?}
             */ function () {
                return this.config.thumbPosition;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(GalleryCoreComponent.prototype, "slidingDirection", {
            get: /**
             * Set thumbnails position ('horizontal' | 'vertical')
             * @return {?}
             */ function () {
                return this.config.slidingDirection;
            },
            enumerable: true,
            configurable: true
        });
        GalleryCoreComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-core',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <gallery-thumb *ngIf=\"config.thumb\"\n                  [state]=\"state\"\n                  [config]=\"config\"\n                  (indexChange)=\"indexChange.emit($event)\">\n    </gallery-thumb>\n    <div class=\"g-box\">\n      <gallery-slider [state]=\"state\"\n                      [config]=\"config\"\n                      (indexChange)=\"indexChange.emit($event)\">\n        <gallery-nav *ngIf=\"config.nav && state.items.length > 1\"\n                    [state]=\"state\"\n                    [config]=\"config\"\n                    (indexChange)=\"indexChange.emit($event)\">\n        </gallery-nav>\n      </gallery-slider>\n      <gallery-dots *ngIf=\"config.dots\"\n                    [state]=\"state\"\n                    (indexChange)=\"indexChange.emit($event)\">\n      </gallery-dots>\n      <gallery-counter *ngIf=\"config.counter\"\n                      [state]=\"state\">\n      </gallery-counter>\n    </div>\n  "
                    },] },
        ];
        /** @nocollapse */
        GalleryCoreComponent.ctorParameters = function () { return []; };
        GalleryCoreComponent.propDecorators = {
            "state": [{ type: core.Input },],
            "config": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
            "thumbPosition": [{ type: core.HostBinding, args: ['attr.thumbPosition',] },],
            "slidingDirection": [{ type: core.HostBinding, args: ['attr.slidingDirection',] },],
        };
        return GalleryCoreComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryNavComponent = (function () {
        function GalleryNavComponent() {
            this.indexChange = new core.EventEmitter();
        }
        GalleryNavComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-nav',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <i *ngIf=\"config.loop || state.hasPrev\" class=\"g-nav-prev\" (tapClick)=\"indexChange.emit('prev')\"></i>\n    <i *ngIf=\"config.loop || state.hasNext\" class=\"g-nav-next\" (tapClick)=\"indexChange.emit('next')\"></i>\n  "
                    },] },
        ];
        /** @nocollapse */
        GalleryNavComponent.ctorParameters = function () { return []; };
        GalleryNavComponent.propDecorators = {
            "state": [{ type: core.Input },],
            "config": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
        };
        return GalleryNavComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryThumbComponent = (function () {
        function GalleryThumbComponent(_el) {
            var _this = this;
            this._el = _el;
            this.stateStream$ = new BehaviorSubject.BehaviorSubject({ value: 0, active: false });
            this.indexChange = new core.EventEmitter();
            this.thumbState$ = this.stateStream$.pipe(map.map(function (state) {
                return ({
                    style: _this.thumbsStyle(state.value),
                    active: state.active
                });
            }));
        }
        /**
         * @return {?}
         */
        GalleryThumbComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                this.stateStream$.next({ value: 0, active: false });
            };
        /**
         * @return {?}
         */
        GalleryThumbComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.config.gestures && !this.config.disableThumb && typeof Hammer !== 'undefined') {
                    this.mc = new Hammer(this._el.nativeElement);
                    this.mc.get('pan').set({ direction: Hammer.DIRECTION_ALL });
                    // Slides thumbnails
                    this.mc.on('pan', function (e) {
                        switch (_this.config.thumbPosition) {
                            case 'right':
                            case 'left':
                                _this.stateStream$.next({ value: e.deltaY, active: true });
                                if (e.isFinal) {
                                    _this.stateStream$.next({ value: 0, active: false });
                                    _this.verticalPan(e);
                                }
                                break;
                            case 'top':
                            case 'bottom':
                                _this.stateStream$.next({ value: e.deltaX, active: true });
                                if (e.isFinal) {
                                    _this.stateStream$.next({ value: 0, active: false });
                                    _this.horizontalPan(e);
                                }
                        }
                    });
                }
            };
        /**
         * @return {?}
         */
        GalleryThumbComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.mc) {
                    this.mc.destroy();
                }
            };
        /**
         * @param {?} delta
         * @return {?}
         */
        GalleryThumbComponent.prototype.thumbsStyle = /**
         * @param {?} delta
         * @return {?}
         */
            function (delta) {
                var /** @type {?} */ value;
                switch (this.config.thumbPosition) {
                    case 'top':
                    case 'bottom':
                        this.height = this.config.thumbHeight + 'px';
                        value = -(this.state.currIndex * this.config.thumbWidth) - (this.config.thumbWidth / 2 - delta);
                        return {
                            transform: "translate3d(" + value + "px, 0, 0)",
                            width: this.state.items.length * this.config.thumbWidth + 'px',
                            height: '100%'
                        };
                    case 'left':
                    case 'right':
                        this.width = this.config.thumbWidth + 'px';
                        value = -(this.state.currIndex * this.config.thumbHeight) - (this.config.thumbHeight / 2 - delta);
                        return {
                            transform: "translate3d(0, " + value + "px, 0)",
                            width: '100%',
                            height: this.state.items.length * this.config.thumbHeight + 'px',
                        };
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GalleryThumbComponent.prototype.verticalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (e.velocityY > 0.3) {
                    this.indexChange.emit('prev');
                }
                else if (e.velocityY < -0.3) {
                    this.indexChange.emit('next');
                }
                else {
                    if (e.deltaY / 2 <= -this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('next');
                    }
                    else if (e.deltaY / 2 >= this.config.thumbHeight * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('prev');
                    }
                    else {
                        this.indexChange.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GalleryThumbComponent.prototype.horizontalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (e.velocityX > 0.3) {
                    this.indexChange.emit('prev');
                }
                else if (e.velocityX < -0.3) {
                    this.indexChange.emit('next');
                }
                else {
                    if (e.deltaX / 2 <= -this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('next');
                    }
                    else if (e.deltaX / 2 >= this.config.thumbWidth * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('prev');
                    }
                    else {
                        this.indexChange.emit(this.state.currIndex);
                    }
                }
            };
        GalleryThumbComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-thumb',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <div *ngIf=\"thumbState$ | async; let thumbState\"\n         class=\"g-thumb-container\">\n      <div class=\"g-thumbs\"\n           [class.-no-transition]=\"thumbState.active\"\n           [ngStyle]=\"thumbState.style\">\n        <div *ngFor=\"let item of state.items;let i = index\"\n             class=\"g-thumb\"\n             [class.-current]=\"i === state.currIndex\"\n             (tapClick)=\"indexChange.emit(i)\"\n             [tapClickDisabled]=\"config.disableThumb\">\n          <ng-container [item]=\"item\" type=\"thumb\"></ng-container>\n        </div>\n      </div>\n    </div>\n  "
                    },] },
        ];
        /** @nocollapse */
        GalleryThumbComponent.ctorParameters = function () {
            return [
                { type: core.ElementRef, },
            ];
        };
        GalleryThumbComponent.propDecorators = {
            "state": [{ type: core.Input },],
            "config": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
            "height": [{ type: core.HostBinding, args: ['style.height',] },],
            "width": [{ type: core.HostBinding, args: ['style.width',] },],
        };
        return GalleryThumbComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryDotsComponent = (function () {
        function GalleryDotsComponent() {
            this.indexChange = new core.EventEmitter();
        }
        GalleryDotsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-dots',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <div class=\"g-dot\"\n         *ngFor=\"let item of state.items; let i = index\"\n         (tapClick)=\"indexChange.emit(i)\">\n      <div class=\"g-dot-inner\"\n           [class.-current]=\"i === state.currIndex\"></div>\n    </div>\n  "
                    },] },
        ];
        /** @nocollapse */
        GalleryDotsComponent.ctorParameters = function () { return []; };
        GalleryDotsComponent.propDecorators = {
            "state": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
        };
        return GalleryDotsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GallerySliderComponent = (function () {
        function GallerySliderComponent(_el, platform) {
            var _this = this;
            this._el = _el;
            this.platform = platform;
            this.stateStream$ = new BehaviorSubject.BehaviorSubject({ value: 0, active: false });
            this.indexChange = new core.EventEmitter();
            this.sliderState$ = this.stateStream$.pipe(map.map(function (state) {
                return ({
                    style: _this.sliderStyle(state.value),
                    active: state.active
                });
            }));
        }
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.viewDepth = /**
         * @return {?}
         */
            function () {
                return { transform: "perspective(50px) translate3d(0, 0, " + -this.config.zoomOut + "px)" };
            };
        /**
         * @param {?} delta
         * @return {?}
         */
        GallerySliderComponent.prototype.sliderStyle = /**
         * @param {?} delta
         * @return {?}
         */
            function (delta) {
                switch (this.config.slidingDirection) {
                    case 'horizontal':
                        return {
                            transform: "translate3d(" + (-(this.state.currIndex * this._el.nativeElement.offsetWidth) + delta) + "px, 0, 0)",
                            width: this._el.nativeElement.offsetWidth * this.state.items.length + 'px',
                            height: '100%'
                        };
                    case 'vertical':
                        return {
                            transform: "translate3d(0, " + (-(this.state.currIndex * this._el.nativeElement.offsetHeight) + delta) + "px, 0)",
                            width: '100%',
                            height: this._el.nativeElement.offsetHeight * this.state.items.length + 'px',
                        };
                }
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                this.stateStream$.next({ value: 0, active: false });
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.config.gestures && typeof Hammer !== 'undefined') {
                    this.mc = new Hammer(this._el.nativeElement);
                    this.mc.get('pan').set({ direction: Hammer.DIRECTION_ALL });
                    // Slides thumbnails
                    this.mc.on('pan', function (e) {
                        switch (_this.config.slidingDirection) {
                            case 'horizontal':
                                _this.stateStream$.next({ value: e.deltaX, active: true });
                                if (e.isFinal) {
                                    _this.stateStream$.next({ value: 0, active: false });
                                    _this.horizontalPan(e);
                                }
                                break;
                            case 'vertical':
                                _this.stateStream$.next({ value: e.deltaY, active: true });
                                if (e.isFinal) {
                                    _this.stateStream$.next({ value: 0, active: false });
                                    _this.verticalPan(e);
                                }
                        }
                    });
                }
                // Rearrange slider on window resize
                if (common.isPlatformBrowser(this.platform)) {
                    this.resizeSub$ = fromEvent.fromEvent(window, 'resize').pipe(debounceTime.debounceTime(200), tap.tap(function () { return _this.stateStream$.next(_this.stateStream$.getValue()); })).subscribe();
                }
                // Fix wrong slider width on init
                setTimeout(function () {
                    _this.stateStream$.next({ value: 0, active: false });
                }, 300);
            };
        /**
         * @return {?}
         */
        GallerySliderComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.mc) {
                    this.mc.destroy();
                }
                if (this.resizeSub$) {
                    this.resizeSub$.unsubscribe();
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GallerySliderComponent.prototype.verticalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (e.velocityY > 0.3) {
                    this.indexChange.emit('prev');
                }
                else if (e.velocityY < -0.3) {
                    this.indexChange.emit('next');
                }
                else {
                    if (e.deltaY / 2 <= -this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('next');
                    }
                    else if (e.deltaY / 2 >= this._el.nativeElement.offsetHeight * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('prev');
                    }
                    else {
                        this.indexChange.emit(this.state.currIndex);
                    }
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        GallerySliderComponent.prototype.horizontalPan = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                if (e.velocityX > 0.3) {
                    this.indexChange.emit('prev');
                }
                else if (e.velocityX < -0.3) {
                    this.indexChange.emit('next');
                }
                else {
                    if (e.deltaX / 2 <= -this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('next');
                    }
                    else if (e.deltaX / 2 >= this._el.nativeElement.offsetWidth * this.state.items.length / this.config.panSensitivity) {
                        this.indexChange.emit('prev');
                    }
                    else {
                        this.indexChange.emit(this.state.currIndex);
                    }
                }
            };
        GallerySliderComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-slider',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "\n    <div *ngIf=\"sliderState$ | async; let sliderState\"\n         class=\"slides-container\"\n         [ngStyle]=\"viewDepth()\">\n      <div class=\"slides\"\n           [class.-no-transition]=\"sliderState.active\"\n           [ngStyle]=\"sliderState.style\">\n        <div *ngFor=\"let item of state.items\" class=\"slide\">\n          <ng-container [item]=\"item\"></ng-container>\n        </div>\n      </div>\n    </div>\n    <ng-content></ng-content>\n  "
                    },] },
        ];
        /** @nocollapse */
        GallerySliderComponent.ctorParameters = function () {
            return [
                { type: core.ElementRef, },
                { type: Object, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] },] },
            ];
        };
        GallerySliderComponent.propDecorators = {
            "state": [{ type: core.Input },],
            "config": [{ type: core.Input },],
            "width": [{ type: core.Input },],
            "height": [{ type: core.Input },],
            "indexChange": [{ type: core.Output },],
        };
        return GallerySliderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryCounterComponent = (function () {
        function GalleryCounterComponent() {
        }
        GalleryCounterComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gallery-counter',
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        preserveWhitespaces: false,
                        template: "<div class=\"g-counter\">{{(state.currIndex + 1) + '/' + state.items.length}}</div>"
                    },] },
        ];
        /** @nocollapse */
        GalleryCounterComponent.ctorParameters = function () { return []; };
        GalleryCounterComponent.propDecorators = {
            "state": [{ type: core.Input },],
        };
        return GalleryCounterComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var LazyDirective = (function () {
        function LazyDirective(_el, _renderer) {
            var _this = this;
            this._el = _el;
            this._renderer = _renderer;
            this._worker$ = new Subject.Subject();
            this.loading = new core.EventEmitter();
            var /** @type {?} */ img = new Image();
            this._worker$.pipe(switchMap.switchMap(function (imageSrc) {
                // Image is loading
                // Image is loading
                _this.loading.emit(true);
                // Stop previously loading
                img.src = imageSrc;
                // Image load success
                var /** @type {?} */ loadSuccess = fromEvent.fromEvent(img, 'load').pipe(tap.tap(function () {
                    _this._renderer.setStyle(_this._el.nativeElement, 'backgroundImage', "url(" + imageSrc + ")");
                    _this.loading.emit(false);
                }));
                // Image load error
                var /** @type {?} */ loadError = fromEvent.fromEvent(img, 'error').pipe(tap.tap(function () { return _this.loading.emit(false); }));
                return zip.zip(loadSuccess, loadError);
            })).subscribe();
        }
        Object.defineProperty(LazyDirective.prototype, "lazyImage", {
            set: /**
             * @param {?} imagePath
             * @return {?}
             */ function (imagePath) {
                this.loadImage(imagePath);
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} imagePath
         * @return {?}
         */
        LazyDirective.prototype.loadImage = /**
         * @param {?} imagePath
         * @return {?}
         */
            function (imagePath) {
                this._worker$.next(imagePath);
            };
        /**
         * @return {?}
         */
        LazyDirective.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._worker$.complete();
            };
        LazyDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[lazyImage]'
                    },] },
        ];
        /** @nocollapse */
        LazyDirective.ctorParameters = function () {
            return [
                { type: core.ElementRef, },
                { type: core.Renderer2, },
            ];
        };
        LazyDirective.propDecorators = {
            "lazyImage": [{ type: core.Input, args: ['lazyImage',] },],
            "loading": [{ type: core.Output },],
        };
        return LazyDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var TapClickDirective = (function () {
        function TapClickDirective(el, renderer) {
            this.el = el;
            this.renderer = renderer;
            this.tapClick = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        TapClickDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.setTapEvent();
            };
        /** Enable gestures if hammer is loaded */
        /**
         * Enable gestures if hammer is loaded
         * @return {?}
         */
        TapClickDirective.prototype.setTapEvent = /**
         * Enable gestures if hammer is loaded
         * @return {?}
         */
            function () {
                var _this = this;
                if (typeof Hammer !== 'undefined') {
                    // Use hammer.js tap event
                    this.mc = new Hammer(this.el.nativeElement);
                    this.mc.on('tap', function () {
                        if (!_this.tapClickDisabled) {
                            _this.tapClick.emit(null);
                        }
                    });
                }
                else {
                    // Use normal click event
                    this.clickListener = this.renderer.listen(this.el.nativeElement, 'click', function (e) {
                        e.stopPropagation();
                        if (!_this.tapClickDisabled) {
                            _this.tapClick.emit(null);
                        }
                    });
                }
            };
        /**
         * @return {?}
         */
        TapClickDirective.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.mc) {
                    this.mc.destroy();
                }
                else {
                    this.clickListener();
                }
            };
        TapClickDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[tapClick]'
                    },] },
        ];
        /** @nocollapse */
        TapClickDirective.ctorParameters = function () {
            return [
                { type: core.ElementRef, },
                { type: core.Renderer2, },
            ];
        };
        TapClickDirective.propDecorators = {
            "tapClickDisabled": [{ type: core.Input },],
            "tapClick": [{ type: core.Output },],
        };
        return TapClickDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var GalleryItemDirective = (function () {
        function GalleryItemDirective(componentFactoryResolver, viewContainerRef) {
            this.componentFactoryResolver = componentFactoryResolver;
            this.viewContainerRef = viewContainerRef;
            this.type = 'slide';
        }
        /**
         * @return {?}
         */
        GalleryItemDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var /** @type {?} */ componentFactory = this.componentFactoryResolver
                    .resolveComponentFactory(this.item[this.type === 'slide' ? 'component' : 'thumbComponent']);
                this.viewContainerRef.clear();
                var /** @type {?} */ componentRef = this.viewContainerRef.createComponent(componentFactory);
                var /** @type {?} */ galleryItem = componentRef.instance;
                galleryItem.data = this.item.data;
            };
        GalleryItemDirective.decorators = [
            { type: core.Directive, args: [{
                        selector: '[item]'
                    },] },
        ];
        /** @nocollapse */
        GalleryItemDirective.ctorParameters = function () {
            return [
                { type: core.ComponentFactoryResolver, },
                { type: core.ViewContainerRef, },
            ];
        };
        GalleryItemDirective.propDecorators = {
            "item": [{ type: core.Input },],
            "type": [{ type: core.Input },],
        };
        return GalleryItemDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} galleryConfig
     * @return {?}
     */
    function galleryFactory(galleryConfig) {
        return new Gallery(galleryConfig);
    }
    var GalleryModule = (function () {
        function GalleryModule() {
        }
        /**
         * @param {?=} config
         * @return {?}
         */
        GalleryModule.forRoot = /**
         * @param {?=} config
         * @return {?}
         */
            function (config) {
                return {
                    ngModule: GalleryModule,
                    providers: [
                        {
                            provide: GALLERY_CONFIG,
                            useValue: config
                        },
                        {
                            provide: Gallery,
                            useFactory: galleryFactory,
                            deps: [GALLERY_CONFIG]
                        }
                    ]
                };
            };
        GalleryModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            GalleryComponent,
                            GalleryCoreComponent,
                            GalleryNavComponent,
                            GalleryThumbComponent,
                            GalleryDotsComponent,
                            GallerySliderComponent,
                            GalleryCounterComponent,
                            ImageItemComponent,
                            VideoItemComponent,
                            IframeItemComponent,
                            ThumbnailItemComponent,
                            GalleryItemDirective,
                            LazyDirective,
                            TapClickDirective
                        ],
                        exports: [
                            GalleryComponent,
                            LazyDirective,
                            TapClickDirective
                        ],
                        entryComponents: [
                            IframeItemComponent,
                            ImageItemComponent,
                            VideoItemComponent,
                            ThumbnailItemComponent
                        ]
                    },] },
        ];
        /** @nocollapse */
        GalleryModule.ctorParameters = function () { return []; };
        return GalleryModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.Gallery = Gallery;
    exports.GalleryRef = GalleryRef;
    exports.GalleryAction = GalleryAction;
    exports.ImageItem = ImageItem;
    exports.VideoItem = VideoItem;
    exports.IframeItem = IframeItem;
    exports.YoutubeItem = YoutubeItem;
    exports.ImageItemComponent = ImageItemComponent;
    exports.VideoItemComponent = VideoItemComponent;
    exports.IframeItemComponent = IframeItemComponent;
    exports.ThumbnailItemComponent = ThumbnailItemComponent;
    exports.galleryFactory = galleryFactory;
    exports.GalleryModule = GalleryModule;
    exports.e = GalleryCoreComponent;
    exports.j = GalleryCounterComponent;
    exports.h = GalleryDotsComponent;
    exports.f = GalleryNavComponent;
    exports.i = GallerySliderComponent;
    exports.g = GalleryThumbComponent;
    exports.d = GalleryComponent;
    exports.o = GalleryItemDirective;
    exports.p = LazyDirective;
    exports.q = TapClickDirective;
    exports.m = IframeItemComponent;
    exports.k = ImageItemComponent;
    exports.n = ThumbnailItemComponent;
    exports.l = VideoItemComponent;
    exports.a = GALLERY_CONFIG;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWdhbGxlcnktY29yZS51bWQuanMubWFwIiwic291cmNlcyI6W251bGwsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvbW9kZWxzL2luZGV4LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS91dGlscy9nYWxsZXJ5LmRlZmF1bHQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL3NlcnZpY2VzL2dhbGxlcnktcmVmLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS91dGlscy9nYWxsZXJ5LnRva2VuLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9zZXJ2aWNlcy9nYWxsZXJ5LnNlcnZpY2UudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL3RlbXBsYXRlcy9pbWFnZS1pdGVtLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvdGVtcGxhdGVzL3ZpZGVvLWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS90ZW1wbGF0ZXMvaWZyYW1lLWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS90ZW1wbGF0ZXMvdGh1bWJuYWlsLWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS90ZW1wbGF0ZXMvaW5kZXgudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2NvbXBvbmVudHMvZ2FsbGVyeS5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2NvbXBvbmVudHMvZ2FsbGVyeS1jb3JlLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvY29tcG9uZW50cy9nYWxsZXJ5LW5hdi5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2NvbXBvbmVudHMvZ2FsbGVyeS10aHVtYi5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2NvbXBvbmVudHMvZ2FsbGVyeS1kb3RzLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvY29tcG9uZW50cy9nYWxsZXJ5LXNsaWRlci5jb21wb25lbnQudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2NvbXBvbmVudHMvZ2FsbGVyeS1jb3VudGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvZGlyZWN0aXZlcy9sYXp5LmRpcmVjdGl2ZS50cyIsIm5nOi8vQG5neC1nYWxsZXJ5L2NvcmUvZGlyZWN0aXZlcy90YXAtY2xpY2suZGlyZWN0aXZlLnRzIiwibmc6Ly9Abmd4LWdhbGxlcnkvY29yZS9kaXJlY3RpdmVzL2dhbGxlcnktaXRlbS5kaXJlY3RpdmUudHMiLCJuZzovL0BuZ3gtZ2FsbGVyeS9jb3JlL2dhbGxlcnkubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0geVtvcFswXSAmIDIgPyBcInJldHVyblwiIDogb3BbMF0gPyBcInRocm93XCIgOiBcIm5leHRcIl0pICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gWzAsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7ICB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAob1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdhbGxlcnlTdGF0ZSB7XHJcbiAgYWN0aW9uPzogR2FsbGVyeUFjdGlvbjtcclxuICBpdGVtcz86IEdhbGxlcnlJdGVtW107XHJcbiAgY3VyckluZGV4PzogbnVtYmVyO1xyXG4gIGhhc05leHQ/OiBib29sZWFuO1xyXG4gIGhhc1ByZXY/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdhbGxlcnlJdGVtIHtcclxuICBkYXRhPzogYW55O1xyXG4gIGNvbXBvbmVudD86IFR5cGU8YW55PjtcclxuICB0aHVtYkNvbXBvbmVudD86IFR5cGU8YW55PjtcclxufVxyXG5cclxuZXhwb3J0IGVudW0gR2FsbGVyeUFjdGlvbiB7XHJcbiAgSU5JVElBTElaRUQgPSAnaW5pdGlhbGl6ZWQnLFxyXG4gIElURU1TX0NIQU5HRUQgPSAnaXRlbXNDaGFuZ2VkJyxcclxuICBJTkRFWF9DSEFOR0VEID0gJ2luZGV4Q2hhbmdlZCcsXHJcbiAgT1BFTkVEID0gJ29wZW5lZCcsXHJcbiAgQ0xPU0VEID0gJ2Nsb3NlZCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHYWxsZXJ5Q29uZmlnIHtcclxuICBnZXN0dXJlcz86IGJvb2xlYW47XHJcbiAgbG9vcD86IGJvb2xlYW47XHJcbiAgcGFuU2Vuc2l0aXZpdHk/OiBudW1iZXI7XHJcbiAgbmF2PzogYm9vbGVhbjtcclxuICBkb3RzPzogYm9vbGVhbjtcclxuICBjb3VudGVyPzogYm9vbGVhbjtcclxuICB0aHVtYj86IGJvb2xlYW47XHJcbiAgdGh1bWJXaWR0aD86IG51bWJlcjtcclxuICB0aHVtYkhlaWdodD86IG51bWJlcjtcclxuICB0aHVtYlBvc2l0aW9uPzogJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbSc7XHJcbiAgZGlzYWJsZVRodW1iPzogYm9vbGVhbjtcclxuICB6b29tT3V0PzogbnVtYmVyO1xyXG4gIHNsaWRpbmdEaXJlY3Rpb24/OiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnO1xyXG4gIGxvYWRpbmdJY29uPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEdhbGxlcnlJdGVtQ29tcG9uZW50IHtcclxuICBkYXRhOiBhbnk7XHJcbiAgaW5kZXg/OiBudW1iZXI7XHJcbn1cclxuIiwiaW1wb3J0IHsgR2FsbGVyeUFjdGlvbiwgR2FsbGVyeUNvbmZpZywgR2FsbGVyeVN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbi8qKiBJbml0aWFsIHN0YXRlICovXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0U3RhdGU6IEdhbGxlcnlTdGF0ZSA9IHtcclxuICBhY3Rpb246IEdhbGxlcnlBY3Rpb24uSU5JVElBTElaRUQsXHJcbiAgY3VyckluZGV4OiAwLFxyXG4gIGhhc05leHQ6IGZhbHNlLFxyXG4gIGhhc1ByZXY6IGZhbHNlLFxyXG4gIGl0ZW1zOiBbXVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWc6IEdhbGxlcnlDb25maWcgPSB7XHJcbiAgZ2VzdHVyZXM6IHRydWUsXHJcbiAgcGFuU2Vuc2l0aXZpdHk6IDI1LFxyXG4gIGNvdW50ZXI6IHRydWUsXHJcbiAgbmF2OiB0cnVlLFxyXG4gIGRvdHM6IGZhbHNlLFxyXG4gIHRodW1iOiB0cnVlLFxyXG4gIHRodW1iV2lkdGg6IDEyMCxcclxuICB0aHVtYkhlaWdodDogOTAsXHJcbiAgdGh1bWJQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgZGlzYWJsZVRodW1iOiBmYWxzZSxcclxuICBzbGlkaW5nRGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgem9vbU91dDogMCxcclxuICBsb2FkaW5nSWNvbjogYDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxyXG48c3ZnIHN0cm9rZT1cIiNmZmZcIiB2aWV3Qm94PVwiMCAwIDQ0IDQ0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG48ZyBmaWxsPVwibm9uZVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2Utd2lkdGg9XCIyXCI+XHJcbjxjaXJjbGUgY3g9XCIyMlwiIGN5PVwiMjJcIiByPVwiMVwiPlxyXG48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIGJlZ2luPVwiMHNcIiBjYWxjTW9kZT1cInNwbGluZVwiIGR1cj1cIjEuOHNcIiBrZXlTcGxpbmVzPVwiMC4xNjUsIDAuODQsIDAuNDQsIDFcIiBrZXlUaW1lcz1cIjA7IDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiB2YWx1ZXM9XCIxOyAyMFwiLz5cclxuPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1vcGFjaXR5XCIgYmVnaW49XCIwc1wiIGNhbGNNb2RlPVwic3BsaW5lXCIgZHVyPVwiMS44c1wiIGtleVNwbGluZXM9XCIwLjMsIDAuNjEsIDAuMzU1LCAxXCIga2V5VGltZXM9XCIwOyAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgdmFsdWVzPVwiMTsgMFwiLz5cclxuPC9jaXJjbGU+XHJcbjxjaXJjbGUgY3g9XCIyMlwiIGN5PVwiMjJcIiByPVwiMVwiPlxyXG48YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVwiclwiIGJlZ2luPVwiLTAuOXNcIiBjYWxjTW9kZT1cInNwbGluZVwiIGR1cj1cIjEuOHNcIiBrZXlTcGxpbmVzPVwiMC4xNjUsIDAuODQsIDAuNDQsIDFcIiBrZXlUaW1lcz1cIjA7IDFcIiByZXBlYXRDb3VudD1cImluZGVmaW5pdGVcIiB2YWx1ZXM9XCIxOyAyMFwiLz5cclxuPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cInN0cm9rZS1vcGFjaXR5XCIgYmVnaW49XCItMC45c1wiIGNhbGNNb2RlPVwic3BsaW5lXCIgZHVyPVwiMS44c1wiIGtleVNwbGluZXM9XCIwLjMsIDAuNjEsIDAuMzU1LCAxXCIga2V5VGltZXM9XCIwOyAxXCIgcmVwZWF0Q291bnQ9XCJpbmRlZmluaXRlXCIgdmFsdWVzPVwiMTsgMFwiLz5cclxuPC9jaXJjbGU+XHJcbjwvZz5cclxuPC9zdmc+YFxyXG59O1xyXG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICdyeGpzL0JlaGF2aW9yU3ViamVjdCc7XHJcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzL2ZpbHRlcic7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzL09ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnLCBkZWZhdWx0U3RhdGUgfSBmcm9tICcuLi91dGlscy9nYWxsZXJ5LmRlZmF1bHQnO1xyXG5pbXBvcnQge1xyXG4gIEdhbGxlcnlTdGF0ZSxcclxuICBHYWxsZXJ5Q29uZmlnLFxyXG4gIEdhbGxlcnlBY3Rpb24sXHJcbiAgR2FsbGVyeUl0ZW1cclxufSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlSZWYge1xyXG4gIHN0YXRlJDogQmVoYXZpb3JTdWJqZWN0PEdhbGxlcnlTdGF0ZT47XHJcbiAgY29uZmlnJDogQmVoYXZpb3JTdWJqZWN0PEdhbGxlcnlDb25maWc+O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyBjb25maWc6IEdhbGxlcnlDb25maWcgPSBkZWZhdWx0Q29uZmlnLFxyXG4gICAgcHVibGljIHN0YXRlOiBHYWxsZXJ5U3RhdGUgPSBkZWZhdWx0U3RhdGVcclxuICApIHtcclxuICAgIHRoaXMuc3RhdGUkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxHYWxsZXJ5U3RhdGU+KHN0YXRlKTtcclxuICAgIHRoaXMuY29uZmlnJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8R2FsbGVyeUNvbmZpZz4oZGVmYXVsdENvbmZpZyk7XHJcbiAgICB0aGlzLnNldENvbmZpZyhjb25maWcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGdhbGxlcnkgY29uZmlnXHJcbiAgICogQHBhcmFtIGNvbmZpZ1xyXG4gICAqL1xyXG4gIHNldENvbmZpZyhjb25maWc6IEdhbGxlcnlDb25maWcpIHtcclxuICAgIHRoaXMuY29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnLCAuLi50aGlzLmNvbmZpZywgLi4uY29uZmlnIH07XHJcbiAgICB0aGlzLmNvbmZpZyQubmV4dCh0aGlzLmNvbmZpZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgZ2FsbGVyeSBzdGF0ZVxyXG4gICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAqL1xyXG4gIHNldFN0YXRlKHN0YXRlOiBHYWxsZXJ5U3RhdGUpIHtcclxuICAgIHRoaXMuc3RhdGUgPSB7IC4uLnRoaXMuc3RhdGUsIC4uLnN0YXRlIH07XHJcbiAgICB0aGlzLnN0YXRlJC5uZXh0KHRoaXMuc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEFkZCBnYWxsZXJ5IGl0ZW1cclxuICAgKiBAcGFyYW0gaXRlbSAtIEdhbGxlcnkgaXRlbSBvYmplY3RcclxuICAgKiBAcGFyYW0gYWN0aXZlIC0gU2V0IHRoZSBuZXcgaXRlbSBhcyBjdXJyZW50IHNsaWRlXHJcbiAgICovXHJcbiAgYWRkKGl0ZW06IEdhbGxlcnlJdGVtLCBhY3RpdmU/OiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IFsuLi50aGlzLnN0YXRlLml0ZW1zLCBpdGVtXTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3Rpb246IEdhbGxlcnlBY3Rpb24uSVRFTVNfQ0hBTkdFRCxcclxuICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICBoYXNOZXh0OiBpdGVtcy5sZW5ndGggPiAxLFxyXG4gICAgICBjdXJySW5kZXg6IGFjdGl2ZSA/IGl0ZW1zLmxlbmd0aCAtIDEgOiB0aGlzLnN0YXRlLmN1cnJJbmRleFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKiogUmVtb3ZlIGdhbGxlcnkgaXRlbVxyXG4gICAqIEBwYXJhbSBpIC0gSXRlbSBpbmRleFxyXG4gICAqL1xyXG4gIHJlbW92ZShpOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gW1xyXG4gICAgICAuLi50aGlzLnN0YXRlLml0ZW1zLnNsaWNlKDAsIGkpLFxyXG4gICAgICAuLi50aGlzLnN0YXRlLml0ZW1zLnNsaWNlKGkgKyAxLCB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aClcclxuICAgIF07XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWN0aW9uOiBHYWxsZXJ5QWN0aW9uLklURU1TX0NIQU5HRUQsXHJcbiAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgaGFzTmV4dDogaXRlbXMubGVuZ3RoID4gMSxcclxuICAgICAgaGFzUHJldjogaSA+IDBcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZCBpdGVtcyBhbmQgcmVzZXQgdGhlIHN0YXRlXHJcbiAgICogQHBhcmFtIGl0ZW1zIC0gR2FsbGVyeSBpbWFnZXMgZGF0YVxyXG4gICAqL1xyXG4gIGxvYWQoaXRlbXM6IEdhbGxlcnlJdGVtW10pIHtcclxuICAgIGlmIChpdGVtcykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBhY3Rpb246IEdhbGxlcnlBY3Rpb24uSVRFTVNfQ0hBTkdFRCxcclxuICAgICAgICBpdGVtczogaXRlbXMsXHJcbiAgICAgICAgaGFzTmV4dDogaXRlbXMubGVuZ3RoID4gMSxcclxuICAgICAgICBoYXNQcmV2OiBmYWxzZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBhY3RpdmUgaXRlbVxyXG4gICAqIEBwYXJhbSBpIC0gQWN0aXZlIEluZGV4XHJcbiAgICogQHBhcmFtIGFjdGlvbiAtIEFjdGlvbiB0eXBlXHJcbiAgICovXHJcbiAgc2V0KGk6IG51bWJlcikge1xyXG4gICAgaWYgKGkgIT09IHRoaXMuc3RhdGUuY3VyckluZGV4KSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGFjdGlvbjogR2FsbGVyeUFjdGlvbi5JTkRFWF9DSEFOR0VELFxyXG4gICAgICAgIGN1cnJJbmRleDogaSxcclxuICAgICAgICBoYXNOZXh0OiBpIDwgdGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLSAxLFxyXG4gICAgICAgIGhhc1ByZXY6IGkgPiAwXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTmV4dCBpdGVtXHJcbiAgICovXHJcbiAgbmV4dCgpIHtcclxuICAgIGlmICh0aGlzLnN0YXRlLmhhc05leHQpIHtcclxuICAgICAgdGhpcy5zZXQodGhpcy5zdGF0ZS5jdXJySW5kZXggKyAxKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubG9vcCkge1xyXG4gICAgICB0aGlzLnNldCgwKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByZXYgaXRlbVxyXG4gICAqL1xyXG4gIHByZXYoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0ZS5oYXNQcmV2KSB7XHJcbiAgICAgIHRoaXMuc2V0KHRoaXMuc3RhdGUuY3VyckluZGV4IC0gMSk7XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29uZmlnLmxvb3ApIHtcclxuICAgICAgdGhpcy5zZXQodGhpcy5zdGF0ZS5pdGVtcy5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IGdhbGxlcnkgdG8gaW5pdGlhbCBzdGF0ZVxyXG4gICAqL1xyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZShkZWZhdWx0U3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBHYWxsZXJ5UmVmIChmb3IgaW50ZXJuYWwgdXNlIG9ubHkpXHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuc3RhdGUkLmNvbXBsZXRlKCk7XHJcbiAgICB0aGlzLmNvbmZpZyQuY29tcGxldGUoKTtcclxuICB9XHJcblxyXG4gIC8qKiBHYWxsZXJ5IEV2ZW50cyAqL1xyXG5cclxuICAvKipcclxuICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGdhbGxlcnkgaXMgaW5pdGlhbGl6ZWQvcmVzZXRcclxuICAgKi9cclxuICBpbml0aWFsaXplZCgpOiBPYnNlcnZhYmxlPEdhbGxlcnlTdGF0ZT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUkLnBpcGUoXHJcbiAgICAgIGZpbHRlcihcclxuICAgICAgICAoc3RhdGU6IEdhbGxlcnlTdGF0ZSkgPT4gc3RhdGUuYWN0aW9uID09PSBHYWxsZXJ5QWN0aW9uLklOSVRJQUxJWkVEXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGl0ZW1zIGlzIGNoYW5nZWQgKGl0ZW1zIGxvYWRlZCwgaXRlbSBhZGRlZCwgaXRlbSByZW1vdmVkKVxyXG4gICAqL1xyXG4gIGl0ZW1zQ2hhbmdlZCgpOiBPYnNlcnZhYmxlPEdhbGxlcnlTdGF0ZT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUkLnBpcGUoXHJcbiAgICAgIGZpbHRlcihcclxuICAgICAgICAoc3RhdGU6IEdhbGxlcnlTdGF0ZSkgPT4gc3RhdGUuYWN0aW9uID09PSBHYWxsZXJ5QWN0aW9uLklURU1TX0NIQU5HRURcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gY3VycmVudCBpdGVtIGlzIGNoYW5nZWRcclxuICAgKi9cclxuICBpbmRleENoYW5nZWQoKTogT2JzZXJ2YWJsZTxHYWxsZXJ5U3RhdGU+IHtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlJC5waXBlKFxyXG4gICAgICBmaWx0ZXIoXHJcbiAgICAgICAgKHN0YXRlOiBHYWxsZXJ5U3RhdGUpID0+IHN0YXRlLmFjdGlvbiA9PT0gR2FsbGVyeUFjdGlvbi5JTkRFWF9DSEFOR0VEXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlDb25maWcgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IEdBTExFUllfQ09ORklHID0gbmV3IEluamVjdGlvblRva2VuPEdhbGxlcnlDb25maWc+KCdnYWxsZXJ5Q29uZmlnJyk7XHJcbiIsImltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgR2FsbGVyeVJlZiB9IGZyb20gJy4vZ2FsbGVyeS1yZWYnO1xyXG5pbXBvcnQgeyBHQUxMRVJZX0NPTkZJRyB9IGZyb20gJy4uL3V0aWxzL2dhbGxlcnkudG9rZW4nO1xyXG5pbXBvcnQgeyBkZWZhdWx0Q29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvZ2FsbGVyeS5kZWZhdWx0JztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5IHtcclxuXHJcbiAgLyoqIFN0b3JlcyBHYWxsZXJ5UmVmIGluc3RhbmNlcyAqL1xyXG4gIHByaXZhdGUgcmVhZG9ubHkgX2luc3RhbmNlcyA9IHt9O1xyXG5cclxuICAvKiogR2xvYmFsIGNvbmZpZyAqL1xyXG4gIGNvbmZpZzogR2FsbGVyeUNvbmZpZztcclxuXHJcbiAgY29uc3RydWN0b3IoQEluamVjdChHQUxMRVJZX0NPTkZJRykgY29uZmlnOiBHYWxsZXJ5Q29uZmlnKSB7XHJcbiAgICB0aGlzLmNvbmZpZyA9IHsuLi5kZWZhdWx0Q29uZmlnLCAuLi5jb25maWd9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBHYWxsZXJ5IGJ5IElEXHJcbiAgICovXHJcbiAgcmVmKGlkID0gJ3Jvb3QnLCBjb25maWc/OiBHYWxsZXJ5Q29uZmlnKSB7XHJcbiAgICBpZiAodGhpcy5faW5zdGFuY2VzW2lkXSBpbnN0YW5jZW9mIEdhbGxlcnlSZWYpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlc1tpZF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25maWcgPSB7Li4udGhpcy5jb25maWcsIC4uLmNvbmZpZ307XHJcbiAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZXNbaWRdID0gbmV3IEdhbGxlcnlSZWYoY29uZmlnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlc3Ryb3koaWQgPSAncm9vdCcpIHtcclxuICAgIGlmICh0aGlzLl9pbnN0YW5jZXNbaWRdIGluc3RhbmNlb2YgR2FsbGVyeVJlZikge1xyXG4gICAgICB0aGlzLl9pbnN0YW5jZXNbaWRdLmRlc3Ryb3koKTtcclxuICAgICAgdGhpcy5faW5zdGFuY2VzW2lkXSA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95QWxsKCkge1xyXG4gICAgT2JqZWN0LmtleXModGhpcy5faW5zdGFuY2VzKVxyXG4gICAgICAubWFwKChrZXkpID0+IHtcclxuICAgICAgICB0aGlzLl9pbnN0YW5jZXNba2V5XS5kZXN0b3J5KCk7XHJcbiAgICAgICAgdGhpcy5faW5zdGFuY2VzW2tleV0gPSBudWxsO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0QWxsKCkge1xyXG4gICAgT2JqZWN0LmtleXModGhpcy5faW5zdGFuY2VzKVxyXG4gICAgICAubWFwKChpZCA9ICdyb290JykgPT4gdGhpcy5faW5zdGFuY2VzW2lkXS5nYWxsZXJ5KVxyXG4gICAgICAubWFwKChnYWxsZXJ5OiBHYWxsZXJ5UmVmKSA9PiBnYWxsZXJ5LnJlc2V0KCkpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XHJcbmltcG9ydCB7IEdhbGxlcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgR2FsbGVyeSB9IGZyb20gJy4uL3NlcnZpY2VzL2dhbGxlcnkuc2VydmljZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2ltYWdlLWl0ZW0nLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2IFtsYXp5SW1hZ2VdPVwiZGF0YT8uc3JjXCIgKGxvYWRpbmcpPVwibG9hZGluZyA9ICRldmVudFwiPjwvZGl2PlxyXG4gICAgPGkgY2xhc3M9XCJnLWxvYWRpbmdcIiAqbmdJZj1cImxvYWRpbmdcIiBbaW5uZXJIVE1MXT1cInNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0SHRtbChnYWxsZXJ5LmNvbmZpZy5sb2FkaW5nSWNvbilcIj48L2k+XHJcbiAgYCxcclxuICBzdHlsZXM6IFtgXHJcbiAgICA6aG9zdCB7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB9XHJcbiAgICBkaXYge1xyXG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xyXG4gICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gIGBdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgSW1hZ2VJdGVtQ29tcG9uZW50IGltcGxlbWVudHMgR2FsbGVyeUl0ZW1Db21wb25lbnQge1xyXG5cclxuICBsb2FkaW5nOiBib29sZWFuO1xyXG4gIEBJbnB1dCgpIGRhdGE6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIGdhbGxlcnk6IEdhbGxlcnksIHB1YmxpYyBzYW5pdGl6ZXI6IERvbVNhbml0aXplcikge1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuaW1wb3J0IHsgR2FsbGVyeUl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd2aWRlby1pdGVtJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPHZpZGVvIGNvbnRyb2xzXHJcbiAgICAgICAgICAgW3NyY109XCJzYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKGRhdGE/LnNyYylcIlxyXG4gICAgICAgICAgIFtwb3N0ZXJdPVwic2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RSZXNvdXJjZVVybChkYXRhPy5wb3N0ZXIpXCI+PC92aWRlbz5cclxuICBgLFxyXG4gIHN0eWxlczogW2BcclxuICAgIHZpZGVvIHtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gIGBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0l0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBHYWxsZXJ5SXRlbUNvbXBvbmVudCB7XHJcblxyXG4gIEBJbnB1dCgpIGRhdGE6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERvbVNhbml0aXplciB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xyXG5pbXBvcnQgeyBHYWxsZXJ5SXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2lmcmFtZS1pdGVtJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGlmcmFtZSBmcmFtZWJvcmRlcj1cIjBcIlxyXG4gICAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW5cclxuICAgICAgICAgICAgW3NyY109XCJzYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsKGRhdGE/LnNyYylcIj48L2lmcmFtZT5cclxuICBgLFxyXG4gIHN0eWxlczogW2BcclxuICAgIGlmcmFtZSB7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxuICBgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgSWZyYW1lSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIEdhbGxlcnlJdGVtQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgZGF0YTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndGh1bWJuYWlsLWl0ZW0nLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2IFtsYXp5SW1hZ2VdPVwiZGF0YS50aHVtYlwiPjwvZGl2PlxyXG4gIGAsXHJcbiAgc3R5bGVzOiBbYFxyXG4gICAgOmhvc3Qge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgfVxyXG4gICAgZGl2IHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcclxuICAgIH1cclxuICBgXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgVGh1bWJuYWlsSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIEdhbGxlcnlJdGVtQ29tcG9uZW50IHtcclxuICBASW5wdXQoKSBkYXRhOiBhbnk7XHJcbn1cclxuIiwiaW1wb3J0IHsgSW1hZ2VJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9pbWFnZS1pdGVtLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFZpZGVvSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vdmlkZW8taXRlbS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBJZnJhbWVJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9pZnJhbWUtaXRlbS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUaHVtYm5haWxJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi90aHVtYm5haWwtaXRlbS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5SXRlbSB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VJdGVtIGltcGxlbWVudHMgR2FsbGVyeUl0ZW0ge1xyXG4gIHB1YmxpYyBjb21wb25lbnQgPSBJbWFnZUl0ZW1Db21wb25lbnQ7XHJcbiAgcHVibGljIHRodW1iQ29tcG9uZW50ID0gVGh1bWJuYWlsSXRlbUNvbXBvbmVudDtcclxuICBwdWJsaWMgZGF0YTogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgdGh1bWI/OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZGF0YSA9IHtzcmMsIHRodW1ifTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWaWRlb0l0ZW0gaW1wbGVtZW50cyBHYWxsZXJ5SXRlbSB7XHJcbiAgcHVibGljIGNvbXBvbmVudCA9IFZpZGVvSXRlbUNvbXBvbmVudDtcclxuICBwdWJsaWMgdGh1bWJDb21wb25lbnQgPSBUaHVtYm5haWxJdGVtQ29tcG9uZW50O1xyXG4gIHB1YmxpYyBkYXRhOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nLCB0aHVtYj86IHN0cmluZywgcG9zdGVyPzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7c3JjLCB0aHVtYiwgcG9zdGVyfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJZnJhbWVJdGVtIGltcGxlbWVudHMgR2FsbGVyeUl0ZW0ge1xyXG4gIHB1YmxpYyBjb21wb25lbnQgPSBJZnJhbWVJdGVtQ29tcG9uZW50O1xyXG4gIHB1YmxpYyB0aHVtYkNvbXBvbmVudCA9IFRodW1ibmFpbEl0ZW1Db21wb25lbnQ7XHJcbiAgcHVibGljIGRhdGE6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3Ioc3JjOiBzdHJpbmcsIHRodW1iPzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7c3JjLCB0aHVtYn07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUl0ZW0gaW1wbGVtZW50cyBHYWxsZXJ5SXRlbSB7XHJcbiAgcHVibGljIGNvbXBvbmVudCA9IElmcmFtZUl0ZW1Db21wb25lbnQ7XHJcbiAgcHVibGljIHRodW1iQ29tcG9uZW50ID0gVGh1bWJuYWlsSXRlbUNvbXBvbmVudDtcclxuICBwdWJsaWMgZGF0YTogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihzcmM6IHN0cmluZywgdGh1bWI/OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZGF0YSA9IHtcclxuICAgICAgc3JjOiBgLy95b3V0dWJlLmNvbS9lbWJlZC8ke3NyY30/d21vZGU9dHJhbnNwYXJlbnRgLFxyXG4gICAgICB0aHVtYjogdGh1bWIgPyB0aHVtYiA6IGAvL2ltZy55b3V0dWJlLmNvbS92aS8ke3NyY30vZGVmYXVsdC5qcGdgXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBJbWFnZUl0ZW1Db21wb25lbnQsXHJcbiAgVmlkZW9JdGVtQ29tcG9uZW50LFxyXG4gIElmcmFtZUl0ZW1Db21wb25lbnQsXHJcbiAgVGh1bWJuYWlsSXRlbUNvbXBvbmVudFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBPdXRwdXQsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgRXZlbnRFbWl0dGVyXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdhbGxlcnkgfSBmcm9tICcuLi9zZXJ2aWNlcy9nYWxsZXJ5LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5UmVmIH0gZnJvbSAnLi4vc2VydmljZXMvZ2FsbGVyeS1yZWYnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5SXRlbSwgR2FsbGVyeVN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcy9TdWJzY3JpcHRpb24nO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5JyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGdhbGxlcnktY29yZSBbc3RhdGVdPVwiZ2FsbGVyeVJlZi5zdGF0ZSQgfCBhc3luY1wiXHJcbiAgICAgICAgICAgICAgICAgIFtjb25maWddPVwiZ2FsbGVyeVJlZi5jb25maWckIHwgYXN5bmNcIlxyXG4gICAgICAgICAgICAgICAgICAoaW5kZXhDaGFuZ2UpPVwib25JbmRleENoYW5nZSgkZXZlbnQpXCI+PC9nYWxsZXJ5LWNvcmU+XHJcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG5cclxuICBnYWxsZXJ5UmVmOiBHYWxsZXJ5UmVmO1xyXG4gIEBJbnB1dCgpIGlkOiBzdHJpbmc7XHJcbiAgQElucHV0KCkgaXRlbXM6IEdhbGxlcnlJdGVtIFtdO1xyXG4gIEBJbnB1dCgpIGdlc3R1cmVzOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuZ2VzdHVyZXM7XHJcbiAgQElucHV0KCkgcGFuU2Vuc2l0aXZpdHk6IG51bWJlciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnBhblNlbnNpdGl2aXR5O1xyXG4gIEBJbnB1dCgpIHpvb21PdXQ6IG51bWJlciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnpvb21PdXQ7XHJcbiAgQElucHV0KCkgZG90czogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRvdHM7XHJcbiAgQElucHV0KCkgdGh1bWI6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYjtcclxuICBASW5wdXQoKSBuYXY6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5uYXY7XHJcbiAgQElucHV0KCkgY291bnRlcjogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmNvdW50ZXI7XHJcbiAgQElucHV0KCkgdGh1bWJXaWR0aDogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJXaWR0aDtcclxuICBASW5wdXQoKSB0aHVtYkhlaWdodDogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJIZWlnaHQ7XHJcbiAgQElucHV0KCkgZGlzYWJsZVRodW1iOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuZGlzYWJsZVRodW1iO1xyXG4gIEBJbnB1dCgpIHRodW1iUG9zaXRpb246ICd0b3AnIHwgJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdib3R0b20nID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJQb3NpdGlvbjtcclxuICBASW5wdXQoKSBzbGlkaW5nRGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuc2xpZGluZ0RpcmVjdGlvbjtcclxuICBASW5wdXQoKSBkZXN0cm95UmVmID0gdHJ1ZTtcclxuXHJcbiAgQE91dHB1dCgpIGluZGV4Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxHYWxsZXJ5U3RhdGU+KCk7XHJcbiAgQE91dHB1dCgpIGl0ZW1zQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxHYWxsZXJ5U3RhdGU+KCk7XHJcblxyXG4gIHByaXZhdGUgX2l0ZW1DaGFuZ2UkOiBTdWJzY3JpcHRpb247XHJcbiAgcHJpdmF0ZSBfaW5kZXhDaGFuZ2UkOiBTdWJzY3JpcHRpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2dhbGxlcnk6IEdhbGxlcnkpIHtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2VzdHVyZXM6IHRoaXMuZ2VzdHVyZXMsXHJcbiAgICAgIHBhblNlbnNpdGl2aXR5OiB0aGlzLnBhblNlbnNpdGl2aXR5LFxyXG4gICAgICB6b29tT3V0OiB0aGlzLnpvb21PdXQsXHJcbiAgICAgIGNvdW50ZXI6IHRoaXMuY291bnRlcixcclxuICAgICAgbmF2OiB0aGlzLm5hdixcclxuICAgICAgZG90czogdGhpcy5kb3RzLFxyXG4gICAgICB0aHVtYjogdGhpcy50aHVtYixcclxuICAgICAgdGh1bWJXaWR0aDogdGhpcy50aHVtYldpZHRoLFxyXG4gICAgICB0aHVtYkhlaWdodDogdGhpcy50aHVtYkhlaWdodCxcclxuICAgICAgdGh1bWJQb3NpdGlvbjogdGhpcy50aHVtYlBvc2l0aW9uLFxyXG4gICAgICBkaXNhYmxlVGh1bWI6IHRoaXMuZGlzYWJsZVRodW1iLFxyXG4gICAgICBzbGlkaW5nRGlyZWN0aW9uOiB0aGlzLnNsaWRpbmdEaXJlY3Rpb25cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBvbkluZGV4Q2hhbmdlKGkpIHtcclxuICAgIHN3aXRjaCAoaSkge1xyXG4gICAgICBjYXNlICduZXh0JzpcclxuICAgICAgICB0aGlzLmdhbGxlcnlSZWYubmV4dCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdwcmV2JzpcclxuICAgICAgICB0aGlzLmdhbGxlcnlSZWYucHJldigpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeVJlZi5zZXQoaSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uQ2hhbmdlcygpIHtcclxuICAgIGlmICh0aGlzLmdhbGxlcnlSZWYgaW5zdGFuY2VvZiBHYWxsZXJ5UmVmKSB7XHJcbiAgICAgIHRoaXMuZ2FsbGVyeVJlZi5zZXRDb25maWcodGhpcy5nZXRDb25maWcoKSk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pdGVtcyAhPT0gdGhpcy5nYWxsZXJ5UmVmLnN0YXRlLml0ZW1zKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkKHRoaXMuaXRlbXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIC8vIEdldCBnYWxsZXJ5IGluc3RhbmNlIGJ5IGlkXHJcbiAgICB0aGlzLmdhbGxlcnlSZWYgPSB0aGlzLl9nYWxsZXJ5LnJlZih0aGlzLmlkKTtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5zZXRDb25maWcodGhpcy5nZXRDb25maWcoKSk7XHJcbiAgICB0aGlzLmxvYWQodGhpcy5pdGVtcyk7XHJcblxyXG4gICAgLyoqIFN1YnNjcmliZXMgdG8gaW5kZXhDaGFuZ2UgYW5kIGl0ZW1zQ2hhbmdlIGV2ZW50cyB3aGVuIHVzZXIgYmluZCB0aGVtICovXHJcbiAgICBpZiAodGhpcy5pbmRleENoYW5nZS5vYnNlcnZlcnMubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuX2luZGV4Q2hhbmdlJCA9IHRoaXMuZ2FsbGVyeVJlZi5pbmRleENoYW5nZWQoKS5zdWJzY3JpYmUoKGU6IEdhbGxlcnlTdGF0ZSkgPT4gdGhpcy5pbmRleENoYW5nZS5uZXh0KGUpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLml0ZW1zQ2hhbmdlLm9ic2VydmVycy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5faXRlbUNoYW5nZSQgPSB0aGlzLmdhbGxlcnlSZWYuaXRlbXNDaGFuZ2VkKCkuc3Vic2NyaWJlKChlOiBHYWxsZXJ5U3RhdGUpID0+IHRoaXMuaXRlbXNDaGFuZ2UubmV4dChlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLl9pbmRleENoYW5nZSQpIHtcclxuICAgICAgdGhpcy5faW5kZXhDaGFuZ2UkLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5faXRlbUNoYW5nZSQpIHtcclxuICAgICAgdGhpcy5faXRlbUNoYW5nZSQudW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmRlc3Ryb3lSZWYpIHtcclxuICAgICAgdGhpcy5nYWxsZXJ5UmVmLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsb2FkKGl0ZW1zOiBHYWxsZXJ5SXRlbVtdKSB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYubG9hZChpdGVtcyk7XHJcbiAgfVxyXG5cclxuICBhZGQoaXRlbTogR2FsbGVyeUl0ZW0sIGFjdGl2ZT86IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5hZGQoaXRlbSwgYWN0aXZlKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZShpOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5yZW1vdmUoaSk7XHJcbiAgfVxyXG5cclxuICBuZXh0KCkge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLm5leHQoKTtcclxuICB9XHJcblxyXG4gIHByZXYoKSB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYucHJldigpO1xyXG4gIH1cclxuXHJcbiAgc2V0KGk6IG51bWJlcikge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLnNldChpKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIEhvc3RCaW5kaW5nLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgRXZlbnRFbWl0dGVyLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZywgR2FsbGVyeVN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnZ2FsbGVyeS1jb3JlJyxcclxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcclxuICBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBmYWxzZSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGdhbGxlcnktdGh1bWIgKm5nSWY9XCJjb25maWcudGh1bWJcIlxyXG4gICAgICAgICAgICAgICAgICBbc3RhdGVdPVwic3RhdGVcIlxyXG4gICAgICAgICAgICAgICAgICBbY29uZmlnXT1cImNvbmZpZ1wiXHJcbiAgICAgICAgICAgICAgICAgIChpbmRleENoYW5nZSk9XCJpbmRleENoYW5nZS5lbWl0KCRldmVudClcIj5cclxuICAgIDwvZ2FsbGVyeS10aHVtYj5cclxuICAgIDxkaXYgY2xhc3M9XCJnLWJveFwiPlxyXG4gICAgICA8Z2FsbGVyeS1zbGlkZXIgW3N0YXRlXT1cInN0YXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtjb25maWddPVwiY29uZmlnXCJcclxuICAgICAgICAgICAgICAgICAgICAgIChpbmRleENoYW5nZSk9XCJpbmRleENoYW5nZS5lbWl0KCRldmVudClcIj5cclxuICAgICAgICA8Z2FsbGVyeS1uYXYgKm5nSWY9XCJjb25maWcubmF2ICYmIHN0YXRlLml0ZW1zLmxlbmd0aCA+IDFcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtzdGF0ZV09XCJzdGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2NvbmZpZ109XCJjb25maWdcIlxyXG4gICAgICAgICAgICAgICAgICAgIChpbmRleENoYW5nZSk9XCJpbmRleENoYW5nZS5lbWl0KCRldmVudClcIj5cclxuICAgICAgICA8L2dhbGxlcnktbmF2PlxyXG4gICAgICA8L2dhbGxlcnktc2xpZGVyPlxyXG4gICAgICA8Z2FsbGVyeS1kb3RzICpuZ0lmPVwiY29uZmlnLmRvdHNcIlxyXG4gICAgICAgICAgICAgICAgICAgIFtzdGF0ZV09XCJzdGF0ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgKGluZGV4Q2hhbmdlKT1cImluZGV4Q2hhbmdlLmVtaXQoJGV2ZW50KVwiPlxyXG4gICAgICA8L2dhbGxlcnktZG90cz5cclxuICAgICAgPGdhbGxlcnktY291bnRlciAqbmdJZj1cImNvbmZpZy5jb3VudGVyXCJcclxuICAgICAgICAgICAgICAgICAgICAgIFtzdGF0ZV09XCJzdGF0ZVwiPlxyXG4gICAgICA8L2dhbGxlcnktY291bnRlcj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlDb3JlQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgc3RhdGU6IEdhbGxlcnlTdGF0ZTtcclxuICBASW5wdXQoKSBjb25maWc6IEdhbGxlcnlDb25maWc7XHJcbiAgQE91dHB1dCgpIGluZGV4Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmcgfCBudW1iZXI+KCk7XHJcblxyXG4gIC8qKiBTZXQgdGh1bWJuYWlscyBwb3NpdGlvbiAoJ3RvcCcgfCAnbGVmdCcgfCAncmlnaHQnIHwgJ2JvdHRvbScpICovXHJcbiAgQEhvc3RCaW5kaW5nKCdhdHRyLnRodW1iUG9zaXRpb24nKSBnZXQgdGh1bWJQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbmZpZy50aHVtYlBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIFNldCB0aHVtYm5haWxzIHBvc2l0aW9uICgnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnKSAqL1xyXG4gIEBIb3N0QmluZGluZygnYXR0ci5zbGlkaW5nRGlyZWN0aW9uJykgZ2V0IHNsaWRpbmdEaXJlY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWcuc2xpZGluZ0RpcmVjdGlvbjtcclxuICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5U3RhdGUsIEdhbGxlcnlDb25maWcgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5LW5hdicsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxpICpuZ0lmPVwiY29uZmlnLmxvb3AgfHwgc3RhdGUuaGFzUHJldlwiIGNsYXNzPVwiZy1uYXYtcHJldlwiICh0YXBDbGljayk9XCJpbmRleENoYW5nZS5lbWl0KCdwcmV2JylcIj48L2k+XHJcbiAgICA8aSAqbmdJZj1cImNvbmZpZy5sb29wIHx8IHN0YXRlLmhhc05leHRcIiBjbGFzcz1cImctbmF2LW5leHRcIiAodGFwQ2xpY2spPVwiaW5kZXhDaGFuZ2UuZW1pdCgnbmV4dCcpXCI+PC9pPlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlOYXZDb21wb25lbnQge1xyXG4gIEBJbnB1dCgpIHN0YXRlOiBHYWxsZXJ5U3RhdGU7XHJcbiAgQElucHV0KCkgY29uZmlnOiBHYWxsZXJ5Q29uZmlnO1xyXG4gIEBPdXRwdXQoKSBpbmRleENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xyXG59XHJcbiIsImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBPbkRlc3Ryb3ksXHJcbiAgT25Jbml0LFxyXG4gIE9uQ2hhbmdlcyxcclxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICBFbGVtZW50UmVmLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBIb3N0QmluZGluZ1xyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnLCBHYWxsZXJ5U3RhdGUgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcy9CZWhhdmlvclN1YmplY3QnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcclxuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvbWFwJztcclxuXHJcbmRlY2xhcmUgY29uc3QgSGFtbWVyOiBhbnk7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktdGh1bWInLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2ICpuZ0lmPVwidGh1bWJTdGF0ZSQgfCBhc3luYzsgbGV0IHRodW1iU3RhdGVcIlxyXG4gICAgICAgICBjbGFzcz1cImctdGh1bWItY29udGFpbmVyXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJnLXRodW1ic1wiXHJcbiAgICAgICAgICAgW2NsYXNzLi1uby10cmFuc2l0aW9uXT1cInRodW1iU3RhdGUuYWN0aXZlXCJcclxuICAgICAgICAgICBbbmdTdHlsZV09XCJ0aHVtYlN0YXRlLnN0eWxlXCI+XHJcbiAgICAgICAgPGRpdiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBzdGF0ZS5pdGVtcztsZXQgaSA9IGluZGV4XCJcclxuICAgICAgICAgICAgIGNsYXNzPVwiZy10aHVtYlwiXHJcbiAgICAgICAgICAgICBbY2xhc3MuLWN1cnJlbnRdPVwiaSA9PT0gc3RhdGUuY3VyckluZGV4XCJcclxuICAgICAgICAgICAgICh0YXBDbGljayk9XCJpbmRleENoYW5nZS5lbWl0KGkpXCJcclxuICAgICAgICAgICAgIFt0YXBDbGlja0Rpc2FibGVkXT1cImNvbmZpZy5kaXNhYmxlVGh1bWJcIj5cclxuICAgICAgICAgIDxuZy1jb250YWluZXIgW2l0ZW1dPVwiaXRlbVwiIHR5cGU9XCJ0aHVtYlwiPjwvbmctY29udGFpbmVyPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuZXhwb3J0IGNsYXNzIEdhbGxlcnlUaHVtYkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG5cclxuICBtYzogYW55O1xyXG4gIHRodW1iU3RhdGUkOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgc3RhdGVTdHJlYW0kID0gbmV3IEJlaGF2aW9yU3ViamVjdCh7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICBASW5wdXQoKSBzdGF0ZTogR2FsbGVyeVN0YXRlO1xyXG4gIEBJbnB1dCgpIGNvbmZpZzogR2FsbGVyeUNvbmZpZztcclxuICBAT3V0cHV0KCkgaW5kZXhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZyB8IG51bWJlcj4oKTtcclxuICBASG9zdEJpbmRpbmcoJ3N0eWxlLmhlaWdodCcpIGhlaWdodDtcclxuICBASG9zdEJpbmRpbmcoJ3N0eWxlLndpZHRoJykgd2lkdGg7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsOiBFbGVtZW50UmVmKSB7XHJcbiAgICB0aGlzLnRodW1iU3RhdGUkID0gdGhpcy5zdGF0ZVN0cmVhbSQucGlwZShcclxuICAgICAgbWFwKChzdGF0ZTogYW55KSA9PiAoe1xyXG4gICAgICAgIHN0eWxlOiB0aGlzLnRodW1ic1N0eWxlKHN0YXRlLnZhbHVlKSxcclxuICAgICAgICBhY3RpdmU6IHN0YXRlLmFjdGl2ZVxyXG4gICAgICB9KSkpO1xyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoKSB7XHJcbiAgICB0aGlzLnN0YXRlU3RyZWFtJC5uZXh0KHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICBpZiAodGhpcy5jb25maWcuZ2VzdHVyZXMgJiYgIXRoaXMuY29uZmlnLmRpc2FibGVUaHVtYiAmJiB0eXBlb2YgSGFtbWVyICE9PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgdGhpcy5tYyA9IG5ldyBIYW1tZXIodGhpcy5fZWwubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgIHRoaXMubWMuZ2V0KCdwYW4nKS5zZXQoe2RpcmVjdGlvbjogSGFtbWVyLkRJUkVDVElPTl9BTEx9KTtcclxuXHJcbiAgICAgIC8vIFNsaWRlcyB0aHVtYm5haWxzXHJcbiAgICAgIHRoaXMubWMub24oJ3BhbicsIChlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy50aHVtYlBvc2l0aW9uKSB7XHJcbiAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh7dmFsdWU6IGUuZGVsdGFZLCBhY3RpdmU6IHRydWV9KTtcclxuICAgICAgICAgICAgaWYgKGUuaXNGaW5hbCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGVTdHJlYW0kLm5leHQoe3ZhbHVlOiAwLCBhY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFBhbihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlU3RyZWFtJC5uZXh0KHt2YWx1ZTogZS5kZWx0YVgsIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICBpZiAoZS5pc0ZpbmFsKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWxQYW4oZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBpZiAodGhpcy5tYykge1xyXG4gICAgICB0aGlzLm1jLmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHRodW1ic1N0eWxlKGRlbHRhOiBudW1iZXIpIHtcclxuICAgIGxldCB2YWx1ZTogbnVtYmVyO1xyXG4gICAgc3dpdGNoICh0aGlzLmNvbmZpZy50aHVtYlBvc2l0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNvbmZpZy50aHVtYkhlaWdodCArICdweCc7XHJcbiAgICAgICAgdmFsdWUgPSAtKHRoaXMuc3RhdGUuY3VyckluZGV4ICogdGhpcy5jb25maWcudGh1bWJXaWR0aCkgLSAodGhpcy5jb25maWcudGh1bWJXaWR0aCAvIDIgLSBkZWx0YSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7dmFsdWV9cHgsIDAsIDApYCxcclxuICAgICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAqIHRoaXMuY29uZmlnLnRodW1iV2lkdGggKyAncHgnLFxyXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJSdcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmNvbmZpZy50aHVtYldpZHRoICsgJ3B4JztcclxuICAgICAgICB2YWx1ZSA9IC0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLmNvbmZpZy50aHVtYkhlaWdodCkgLSAodGhpcy5jb25maWcudGh1bWJIZWlnaHQgLyAyIC0gZGVsdGEpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgwLCAke3ZhbHVlfXB4LCAwKWAsXHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgaGVpZ2h0OiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAqIHRoaXMuY29uZmlnLnRodW1iSGVpZ2h0ICsgJ3B4JyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmVydGljYWxQYW4oZSkge1xyXG4gICAgaWYgKGUudmVsb2NpdHlZID4gMC4zKSB7XHJcbiAgICAgIHRoaXMuaW5kZXhDaGFuZ2UuZW1pdCgncHJldicpO1xyXG4gICAgfSBlbHNlIGlmIChlLnZlbG9jaXR5WSA8IC0wLjMpIHtcclxuICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCduZXh0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZS5kZWx0YVkgLyAyIDw9IC10aGlzLmNvbmZpZy50aHVtYkhlaWdodCAqIHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoIC8gdGhpcy5jb25maWcucGFuU2Vuc2l0aXZpdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4Q2hhbmdlLmVtaXQoJ25leHQnKTtcclxuICAgICAgfSBlbHNlIGlmIChlLmRlbHRhWSAvIDIgPj0gdGhpcy5jb25maWcudGh1bWJIZWlnaHQgKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KHRoaXMuc3RhdGUuY3VyckluZGV4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaG9yaXpvbnRhbFBhbihlKSB7XHJcbiAgICBpZiAoZS52ZWxvY2l0eVggPiAwLjMpIHtcclxuICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICB9IGVsc2UgaWYgKGUudmVsb2NpdHlYIDwgLTAuMykge1xyXG4gICAgICB0aGlzLmluZGV4Q2hhbmdlLmVtaXQoJ25leHQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChlLmRlbHRhWCAvIDIgPD0gLXRoaXMuY29uZmlnLnRodW1iV2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCduZXh0Jyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5kZWx0YVggLyAyID49IHRoaXMuY29uZmlnLnRodW1iV2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KHRoaXMuc3RhdGUuY3VyckluZGV4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlTdGF0ZSB9IGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnktZG90cycsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgY2xhc3M9XCJnLWRvdFwiXHJcbiAgICAgICAgICpuZ0Zvcj1cImxldCBpdGVtIG9mIHN0YXRlLml0ZW1zOyBsZXQgaSA9IGluZGV4XCJcclxuICAgICAgICAgKHRhcENsaWNrKT1cImluZGV4Q2hhbmdlLmVtaXQoaSlcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImctZG90LWlubmVyXCJcclxuICAgICAgICAgICBbY2xhc3MuLWN1cnJlbnRdPVwiaSA9PT0gc3RhdGUuY3VyckluZGV4XCI+PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5RG90c0NvbXBvbmVudCB7XHJcbiAgQElucHV0KCkgc3RhdGU6IEdhbGxlcnlTdGF0ZTtcclxuICBAT3V0cHV0KCkgaW5kZXhDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dCxcclxuICBPdXRwdXQsXHJcbiAgT25EZXN0cm95LFxyXG4gIE9uSW5pdCxcclxuICBPbkNoYW5nZXMsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXHJcbiAgRWxlbWVudFJlZixcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgSW5qZWN0LFxyXG4gIFBMQVRGT1JNX0lEXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IGlzUGxhdGZvcm1Ccm93c2VyIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgR2FsbGVyeVN0YXRlLCBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMvQmVoYXZpb3JTdWJqZWN0JztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMvU3Vic2NyaXB0aW9uJztcclxuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvbWFwJztcclxuaW1wb3J0IHsgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMvdGFwJztcclxuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL2Zyb21FdmVudCc7XHJcbmltcG9ydCB7IGRlYm91bmNlVGltZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzL2RlYm91bmNlVGltZSc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IEhhbW1lcjogYW55O1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5LXNsaWRlcicsXHJcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgKm5nSWY9XCJzbGlkZXJTdGF0ZSQgfCBhc3luYzsgbGV0IHNsaWRlclN0YXRlXCJcclxuICAgICAgICAgY2xhc3M9XCJzbGlkZXMtY29udGFpbmVyXCJcclxuICAgICAgICAgW25nU3R5bGVdPVwidmlld0RlcHRoKClcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInNsaWRlc1wiXHJcbiAgICAgICAgICAgW2NsYXNzLi1uby10cmFuc2l0aW9uXT1cInNsaWRlclN0YXRlLmFjdGl2ZVwiXHJcbiAgICAgICAgICAgW25nU3R5bGVdPVwic2xpZGVyU3RhdGUuc3R5bGVcIj5cclxuICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBpdGVtIG9mIHN0YXRlLml0ZW1zXCIgY2xhc3M9XCJzbGlkZVwiPlxyXG4gICAgICAgICAgPG5nLWNvbnRhaW5lciBbaXRlbV09XCJpdGVtXCI+PC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeVNsaWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xyXG5cclxuICBtYzogYW55O1xyXG4gIHJlc2l6ZVN1YiQ6IFN1YnNjcmlwdGlvbjtcclxuICBzbGlkZXJTdGF0ZSQ6IE9ic2VydmFibGU8YW55PjtcclxuICBzdGF0ZVN0cmVhbSQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gIEBJbnB1dCgpIHN0YXRlOiBHYWxsZXJ5U3RhdGU7XHJcbiAgQElucHV0KCkgY29uZmlnOiBHYWxsZXJ5Q29uZmlnO1xyXG4gIEBJbnB1dCgpIHdpZHRoOiBudW1iZXI7XHJcbiAgQElucHV0KCkgaGVpZ2h0OiBudW1iZXI7XHJcbiAgQE91dHB1dCgpIGluZGV4Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmcgfCBudW1iZXI+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsOiBFbGVtZW50UmVmLCBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtOiBPYmplY3QpIHtcclxuICAgIHRoaXMuc2xpZGVyU3RhdGUkID0gdGhpcy5zdGF0ZVN0cmVhbSQucGlwZShtYXAoXHJcbiAgICAgIChzdGF0ZTogYW55KSA9PiAoe1xyXG4gICAgICAgIHN0eWxlOiB0aGlzLnNsaWRlclN0eWxlKHN0YXRlLnZhbHVlKSxcclxuICAgICAgICBhY3RpdmU6IHN0YXRlLmFjdGl2ZVxyXG4gICAgICB9KSkpO1xyXG4gIH1cclxuXHJcbiAgdmlld0RlcHRoKCkge1xyXG4gICAgcmV0dXJuIHt0cmFuc2Zvcm06IGBwZXJzcGVjdGl2ZSg1MHB4KSB0cmFuc2xhdGUzZCgwLCAwLCAkey10aGlzLmNvbmZpZy56b29tT3V0fXB4KWB9O1xyXG4gIH1cclxuXHJcbiAgc2xpZGVyU3R5bGUoZGVsdGE6IG51bWJlcikge1xyXG4gICAgc3dpdGNoICh0aGlzLmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ2hvcml6b250YWwnOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgkey0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoKSArIGRlbHRhfXB4LCAwLCAwKWAsXHJcbiAgICAgICAgICB3aWR0aDogdGhpcy5fZWwubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aCAqIHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoICsgJ3B4JyxcclxuICAgICAgICAgIGhlaWdodDogJzEwMCUnXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSAndmVydGljYWwnOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgwLCAkey0odGhpcy5zdGF0ZS5jdXJySW5kZXggKiB0aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCkgKyBkZWx0YX1weCwgMClgLFxyXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIGhlaWdodDogdGhpcy5fZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCArICdweCcsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25DaGFuZ2VzKCkge1xyXG4gICAgdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYgKHRoaXMuY29uZmlnLmdlc3R1cmVzICYmIHR5cGVvZiBIYW1tZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcblxyXG4gICAgICB0aGlzLm1jID0gbmV3IEhhbW1lcih0aGlzLl9lbC5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgdGhpcy5tYy5nZXQoJ3BhbicpLnNldCh7ZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX0FMTH0pO1xyXG5cclxuICAgICAgLy8gU2xpZGVzIHRodW1ibmFpbHNcclxuICAgICAgdGhpcy5tYy5vbigncGFuJywgKGUpID0+IHtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy5zbGlkaW5nRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICBjYXNlICdob3Jpem9udGFsJzpcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh7dmFsdWU6IGUuZGVsdGFYLCBhY3RpdmU6IHRydWV9KTtcclxuICAgICAgICAgICAgaWYgKGUuaXNGaW5hbCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuc3RhdGVTdHJlYW0kLm5leHQoe3ZhbHVlOiAwLCBhY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsUGFuKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAndmVydGljYWwnOlxyXG4gICAgICAgICAgICB0aGlzLnN0YXRlU3RyZWFtJC5uZXh0KHt2YWx1ZTogZS5kZWx0YVksIGFjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICBpZiAoZS5pc0ZpbmFsKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh7dmFsdWU6IDAsIGFjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsUGFuKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWFycmFuZ2Ugc2xpZGVyIG9uIHdpbmRvdyByZXNpemVcclxuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtKSkge1xyXG4gICAgICB0aGlzLnJlc2l6ZVN1YiQgPSBmcm9tRXZlbnQod2luZG93LCAncmVzaXplJykucGlwZShcclxuICAgICAgICBkZWJvdW5jZVRpbWUoMjAwKSxcclxuICAgICAgICB0YXAoKCkgPT4gdGhpcy5zdGF0ZVN0cmVhbSQubmV4dCh0aGlzLnN0YXRlU3RyZWFtJC5nZXRWYWx1ZSgpKSlcclxuICAgICAgKS5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaXggd3Jvbmcgc2xpZGVyIHdpZHRoIG9uIGluaXRcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnN0YXRlU3RyZWFtJC5uZXh0KHt2YWx1ZTogMCwgYWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgfSwgMzAwKTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgaWYgKHRoaXMubWMpIHtcclxuICAgICAgdGhpcy5tYy5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5yZXNpemVTdWIkKSB7XHJcbiAgICAgIHRoaXMucmVzaXplU3ViJC51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmVydGljYWxQYW4oZSkge1xyXG4gICAgaWYgKGUudmVsb2NpdHlZID4gMC4zKSB7XHJcbiAgICAgIHRoaXMuaW5kZXhDaGFuZ2UuZW1pdCgncHJldicpO1xyXG4gICAgfSBlbHNlIGlmIChlLnZlbG9jaXR5WSA8IC0wLjMpIHtcclxuICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCduZXh0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoZS5kZWx0YVkgLyAyIDw9IC10aGlzLl9lbC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCAqIHRoaXMuc3RhdGUuaXRlbXMubGVuZ3RoIC8gdGhpcy5jb25maWcucGFuU2Vuc2l0aXZpdHkpIHtcclxuICAgICAgICB0aGlzLmluZGV4Q2hhbmdlLmVtaXQoJ25leHQnKTtcclxuICAgICAgfSBlbHNlIGlmIChlLmRlbHRhWSAvIDIgPj0gdGhpcy5fZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KHRoaXMuc3RhdGUuY3VyckluZGV4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaG9yaXpvbnRhbFBhbihlKSB7XHJcbiAgICBpZiAoZS52ZWxvY2l0eVggPiAwLjMpIHtcclxuICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICB9IGVsc2UgaWYgKGUudmVsb2NpdHlYIDwgLTAuMykge1xyXG4gICAgICB0aGlzLmluZGV4Q2hhbmdlLmVtaXQoJ25leHQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChlLmRlbHRhWCAvIDIgPD0gLXRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCduZXh0Jyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5kZWx0YVggLyAyID49IHRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGggKiB0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCAvIHRoaXMuY29uZmlnLnBhblNlbnNpdGl2aXR5KSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KCdwcmV2Jyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbmRleENoYW5nZS5lbWl0KHRoaXMuc3RhdGUuY3VyckluZGV4KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5U3RhdGUgfSBmcm9tICcuLi9tb2RlbHMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdnYWxsZXJ5LWNvdW50ZXInLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHByZXNlcnZlV2hpdGVzcGFjZXM6IGZhbHNlLFxyXG4gIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cImctY291bnRlclwiPnt7KHN0YXRlLmN1cnJJbmRleCArIDEpICsgJy8nICsgc3RhdGUuaXRlbXMubGVuZ3RofX08L2Rpdj5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5Q291bnRlckNvbXBvbmVudCB7XHJcbiAgQElucHV0KCkgc3RhdGU6IEdhbGxlcnlTdGF0ZTtcclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIERpcmVjdGl2ZSxcclxuICBFbGVtZW50UmVmLFxyXG4gIElucHV0LFxyXG4gIE91dHB1dCxcclxuICBFdmVudEVtaXR0ZXIsXHJcbiAgUmVuZGVyZXIyLFxyXG4gIE9uRGVzdHJveVxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMvU3ViamVjdCc7XHJcblxyXG5pbXBvcnQgeyBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycy9zd2l0Y2hNYXAnO1xyXG5pbXBvcnQgeyB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycy90YXAnO1xyXG5pbXBvcnQgeyB6aXAgfSBmcm9tICdyeGpzL29ic2VydmFibGUvemlwJztcclxuaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcy9vYnNlcnZhYmxlL2Zyb21FdmVudCc7XHJcblxyXG5ARGlyZWN0aXZlKHtcclxuICBzZWxlY3RvcjogJ1tsYXp5SW1hZ2VdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgTGF6eURpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uRGVzdHJveSB7XHJcblxyXG4gIC8vIExhenkgbG9hZCB3b3JrZXJcclxuICBwcml2YXRlIF93b3JrZXIkID0gbmV3IFN1YmplY3QoKTtcclxuXHJcbiAgQElucHV0KCdsYXp5SW1hZ2UnKVxyXG4gIHNldCBsYXp5SW1hZ2UoaW1hZ2VQYXRoKSB7XHJcbiAgICB0aGlzLmxvYWRJbWFnZShpbWFnZVBhdGgpO1xyXG4gIH1cclxuXHJcbiAgQE91dHB1dCgpIGxvYWRpbmcgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2VsOiBFbGVtZW50UmVmLCBwcml2YXRlIF9yZW5kZXJlcjogUmVuZGVyZXIyKSB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICB0aGlzLl93b3JrZXIkLnBpcGUoXHJcbiAgICAgIHN3aXRjaE1hcCgoaW1hZ2VTcmM6IHN0cmluZykgPT4ge1xyXG5cclxuICAgICAgICAvLyBJbWFnZSBpcyBsb2FkaW5nXHJcbiAgICAgICAgdGhpcy5sb2FkaW5nLmVtaXQodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3AgcHJldmlvdXNseSBsb2FkaW5nXHJcbiAgICAgICAgaW1nLnNyYyA9IGltYWdlU3JjO1xyXG5cclxuICAgICAgICAvLyBJbWFnZSBsb2FkIHN1Y2Nlc3NcclxuICAgICAgICBjb25zdCBsb2FkU3VjY2VzcyA9IGZyb21FdmVudChpbWcsICdsb2FkJykucGlwZShcclxuICAgICAgICAgIHRhcCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldFN0eWxlKHRoaXMuX2VsLm5hdGl2ZUVsZW1lbnQsICdiYWNrZ3JvdW5kSW1hZ2UnLCBgdXJsKCR7aW1hZ2VTcmN9KWApO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcuZW1pdChmYWxzZSk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEltYWdlIGxvYWQgZXJyb3JcclxuICAgICAgICBjb25zdCBsb2FkRXJyb3IgPSBmcm9tRXZlbnQoaW1nLCAnZXJyb3InKS5waXBlKHRhcCgoKSA9PiB0aGlzLmxvYWRpbmcuZW1pdChmYWxzZSkpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHppcChsb2FkU3VjY2VzcywgbG9hZEVycm9yKTtcclxuICAgICAgfSlcclxuICAgICkuc3Vic2NyaWJlKCk7XHJcbiAgfVxyXG5cclxuICBsb2FkSW1hZ2UoaW1hZ2VQYXRoKSB7XHJcbiAgICB0aGlzLl93b3JrZXIkLm5leHQoaW1hZ2VQYXRoKTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgdGhpcy5fd29ya2VyJC5jb21wbGV0ZSgpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGVuYWJsZSB0YXAgaWYgSGFtbWVySlMgaXMgbG9hZGVkLCBvdGhlcndpc2UgaXQgZmFsbHMgYmFjayB0byBub3JtYWwgY2xpY2sgZXZlbnQgXHJcbiAqL1xyXG5pbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQsIFJlbmRlcmVyMiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBIYW1tZXI6IGFueTtcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW3RhcENsaWNrXSdcclxufSlcclxuZXhwb3J0IGNsYXNzIFRhcENsaWNrRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xyXG5cclxuICBtYzogYW55O1xyXG4gIGNsaWNrTGlzdGVuZXI6IGFueTtcclxuICBASW5wdXQoKSB0YXBDbGlja0Rpc2FibGVkOiBib29sZWFuO1xyXG4gIEBPdXRwdXQoKSB0YXBDbGljayA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyKSB7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMuc2V0VGFwRXZlbnQoKTtcclxuICB9XHJcblxyXG4gIC8qKiBFbmFibGUgZ2VzdHVyZXMgaWYgaGFtbWVyIGlzIGxvYWRlZCAqL1xyXG4gIHNldFRhcEV2ZW50KCkge1xyXG5cclxuICAgIGlmICh0eXBlb2YgSGFtbWVyICE9PSAndW5kZWZpbmVkJykge1xyXG5cclxuICAgICAgLy8gVXNlIGhhbW1lci5qcyB0YXAgZXZlbnRcclxuICAgICAgdGhpcy5tYyA9IG5ldyBIYW1tZXIodGhpcy5lbC5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgdGhpcy5tYy5vbigndGFwJywgKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy50YXBDbGlja0Rpc2FibGVkKSB7XHJcbiAgICAgICAgICB0aGlzLnRhcENsaWNrLmVtaXQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFVzZSBub3JtYWwgY2xpY2sgZXZlbnRcclxuICAgICAgdGhpcy5jbGlja0xpc3RlbmVyID0gdGhpcy5yZW5kZXJlci5saXN0ZW4odGhpcy5lbC5uYXRpdmVFbGVtZW50LCAnY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRhcENsaWNrRGlzYWJsZWQpIHtcclxuICAgICAgICAgIHRoaXMudGFwQ2xpY2suZW1pdChudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkRlc3Ryb3koKSB7XHJcbiAgICBpZiAodGhpcy5tYykge1xyXG4gICAgICB0aGlzLm1jLmRlc3Ryb3koKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY2xpY2tMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIERpcmVjdGl2ZSxcclxuICBJbnB1dCxcclxuICBPbkluaXQsXHJcbiAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxyXG4gIFZpZXdDb250YWluZXJSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgR2FsbGVyeUl0ZW0sIEdhbGxlcnlJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi4vbW9kZWxzJztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW2l0ZW1dJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgR2FsbGVyeUl0ZW1EaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBASW5wdXQoKSBpdGVtOiBHYWxsZXJ5SXRlbTtcclxuICBASW5wdXQoKSB0eXBlOiAnc2xpZGUnIHwgJ3RodW1iJyA9ICdzbGlkZSc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXHJcbiAgICAgICAgICAgICAgcHJpdmF0ZSB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmKSB7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclxyXG4gICAgICAucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkodGhpcy5pdGVtW3RoaXMudHlwZSA9PT0gJ3NsaWRlJyA/ICdjb21wb25lbnQnIDogJ3RodW1iQ29tcG9uZW50J10pO1xyXG4gICAgdGhpcy52aWV3Q29udGFpbmVyUmVmLmNsZWFyKCk7XHJcbiAgICBjb25zdCBjb21wb25lbnRSZWYgPSB0aGlzLnZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudEZhY3RvcnkpO1xyXG4gICAgY29uc3QgZ2FsbGVyeUl0ZW06IEdhbGxlcnlJdGVtQ29tcG9uZW50ID0gY29tcG9uZW50UmVmLmluc3RhbmNlO1xyXG4gICAgZ2FsbGVyeUl0ZW0uZGF0YSA9IHRoaXMuaXRlbS5kYXRhO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4sIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcblxyXG5pbXBvcnQgeyBHYWxsZXJ5IH0gZnJvbSAnLi9zZXJ2aWNlcy9nYWxsZXJ5LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Q29uZmlnIH0gZnJvbSAnLi9tb2RlbHMnO1xyXG5pbXBvcnQgeyBHQUxMRVJZX0NPTkZJRyB9IGZyb20gJy4vdXRpbHMvZ2FsbGVyeS50b2tlbic7XHJcblxyXG5pbXBvcnQgeyBHYWxsZXJ5Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2dhbGxlcnkuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeUNvcmVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1jb3JlLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEdhbGxlcnlOYXZDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1uYXYuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeVRodW1iQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2dhbGxlcnktdGh1bWIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeURvdHNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1kb3RzLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEdhbGxlcnlTbGlkZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1zbGlkZXIuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeUNvdW50ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZ2FsbGVyeS1jb3VudGVyLmNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBMYXp5RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2xhenkuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgVGFwQ2xpY2tEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvdGFwLWNsaWNrLmRpcmVjdGl2ZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2dhbGxlcnktaXRlbS5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBJbWFnZUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3RlbXBsYXRlcy9pbWFnZS1pdGVtLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFZpZGVvSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vdGVtcGxhdGVzL3ZpZGVvLWl0ZW0uY29tcG9uZW50JztcclxuaW1wb3J0IHsgSWZyYW1lSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vdGVtcGxhdGVzL2lmcmFtZS1pdGVtLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRodW1ibmFpbEl0ZW1Db21wb25lbnQgfSBmcm9tICcuL3RlbXBsYXRlcy90aHVtYm5haWwtaXRlbS5jb21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdhbGxlcnlGYWN0b3J5KGdhbGxlcnlDb25maWc6IEdhbGxlcnlDb25maWcpIHtcclxuICByZXR1cm4gbmV3IEdhbGxlcnkoZ2FsbGVyeUNvbmZpZyk7XHJcbn1cclxuXHJcbkBOZ01vZHVsZSh7XHJcbiAgaW1wb3J0czogW1xyXG4gICAgQ29tbW9uTW9kdWxlXHJcbiAgXSxcclxuICBkZWNsYXJhdGlvbnM6IFtcclxuICAgIEdhbGxlcnlDb21wb25lbnQsXHJcbiAgICBHYWxsZXJ5Q29yZUNvbXBvbmVudCxcclxuICAgIEdhbGxlcnlOYXZDb21wb25lbnQsXHJcbiAgICBHYWxsZXJ5VGh1bWJDb21wb25lbnQsXHJcbiAgICBHYWxsZXJ5RG90c0NvbXBvbmVudCxcclxuICAgIEdhbGxlcnlTbGlkZXJDb21wb25lbnQsXHJcbiAgICBHYWxsZXJ5Q291bnRlckNvbXBvbmVudCxcclxuICAgIEltYWdlSXRlbUNvbXBvbmVudCxcclxuICAgIFZpZGVvSXRlbUNvbXBvbmVudCxcclxuICAgIElmcmFtZUl0ZW1Db21wb25lbnQsXHJcbiAgICBUaHVtYm5haWxJdGVtQ29tcG9uZW50LFxyXG4gICAgR2FsbGVyeUl0ZW1EaXJlY3RpdmUsXHJcbiAgICBMYXp5RGlyZWN0aXZlLFxyXG4gICAgVGFwQ2xpY2tEaXJlY3RpdmVcclxuICBdLFxyXG4gIGV4cG9ydHM6IFtcclxuICAgIEdhbGxlcnlDb21wb25lbnQsXHJcbiAgICBMYXp5RGlyZWN0aXZlLFxyXG4gICAgVGFwQ2xpY2tEaXJlY3RpdmVcclxuICBdLFxyXG4gIGVudHJ5Q29tcG9uZW50czogW1xyXG4gICAgSWZyYW1lSXRlbUNvbXBvbmVudCxcclxuICAgIEltYWdlSXRlbUNvbXBvbmVudCxcclxuICAgIFZpZGVvSXRlbUNvbXBvbmVudCxcclxuICAgIFRodW1ibmFpbEl0ZW1Db21wb25lbnRcclxuICBdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5TW9kdWxlIHtcclxuICBzdGF0aWMgZm9yUm9vdChjb25maWc/OiBHYWxsZXJ5Q29uZmlnKSB7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmdNb2R1bGU6IEdhbGxlcnlNb2R1bGUsXHJcbiAgICAgIHByb3ZpZGVyczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHByb3ZpZGU6IEdBTExFUllfQ09ORklHLFxyXG4gICAgICAgICAgdXNlVmFsdWU6IGNvbmZpZ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcHJvdmlkZTogR2FsbGVyeSxcclxuICAgICAgICAgIHVzZUZhY3Rvcnk6IGdhbGxlcnlGYWN0b3J5LFxyXG4gICAgICAgICAgZGVwczogW0dBTExFUllfQ09ORklHXVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkJlaGF2aW9yU3ViamVjdCIsImZpbHRlciIsIkluamVjdGlvblRva2VuIiwiSW5qZWN0YWJsZSIsIkluamVjdCIsIkNvbXBvbmVudCIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiRG9tU2FuaXRpemVyIiwiSW5wdXQiLCJFdmVudEVtaXR0ZXIiLCJPdXRwdXQiLCJIb3N0QmluZGluZyIsIm1hcCIsIkVsZW1lbnRSZWYiLCJpc1BsYXRmb3JtQnJvd3NlciIsImZyb21FdmVudCIsImRlYm91bmNlVGltZSIsInRhcCIsIlBMQVRGT1JNX0lEIiwiU3ViamVjdCIsInN3aXRjaE1hcCIsInppcCIsIkRpcmVjdGl2ZSIsIlJlbmRlcmVyMiIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIlZpZXdDb250YWluZXJSZWYiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0lBQUE7Ozs7Ozs7Ozs7Ozs7O0FBY0EsSUFZTyxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxJ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