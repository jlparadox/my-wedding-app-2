!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/animations"),require("@ngx-gallery/core"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/keycodes"),require("rxjs/Subject"),require("@angular/common")):"function"==typeof define&&define.amd?define("@ngx-gallery/lightbox",["exports","@angular/core","@angular/animations","@ngx-gallery/core","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/keycodes","rxjs/Subject","@angular/common"],t):t((e["ngx-gallery"]=e["ngx-gallery"]||{},e["ngx-gallery"].lightbox={}),e.ng.core,e.ng.animations,null,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.cdk.keycodes,e.rxjs.Subject,e.ng.common)}(this,function(e,o,t,r,n,c,u,a,s){"use strict";var y=function(){function e(){}return e.prototype.onMouseLeave=function(e){"void"===e.toState&&this.overlayRef.dispose()},e.decorators=[{type:o.Component,args:[{selector:"lightbox",changeDetection:o.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,animations:[t.trigger("slideDialog",[t.state("in",t.style({transform:"translateY(0%) scale(1)",opacity:1})),t.transition(":enter",[t.style({transform:"translateY(25%) scale(0.9)",opacity:0}),t.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),t.transition(":leave",[t.animate("400ms cubic-bezier(0.25, 0.8, 0.25, 1)",t.style({transform:"translateY(25%)",opacity:0}))])])],template:'\n    <gallery [id]="id" [destroyRef]="false">\n      <button class="g-btn-close" (click)="overlayRef.detach()"></button>\n    </gallery>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={slideAnimation:[{type:o.HostBinding,args:["@slideDialog"]}],onMouseLeave:[{type:o.HostListener,args:["@slideDialog.done",["$event"]]}]},e}(),g=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i=new o.InjectionToken("lightboxConfig"),l={backdropClass:"g-backdrop",panelClass:"g-overlay",hasBackdrop:!0,keyboardShortcuts:!0},d=function(){function e(e,t,o){this._gallery=t,this._overlay=o,this.opened=new a.Subject,this.closed=new a.Subject,this._config=g({},l,e)}return e.prototype.setConfig=function(e){this._config=g({},this._config,e)},e.prototype.open=function(e,t,o){var r=this;void 0===e&&(e=0),void 0===t&&(t="lightbox");var n=o?g({},this._config,o):this._config,a={backdropClass:n.backdropClass,panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:this._overlay.scrollStrategies.block()},s=this._gallery.ref(t);s.set(e),this._overlayRef=this._overlay.create(a),this._overlayRef.attachments().subscribe(function(){return r.opened.next(t)}),this._overlayRef.detachments().subscribe(function(){return r.closed.next(t)});var i=new c.ComponentPortal(y),l=this._overlayRef.attach(i);l.instance.id=t,l.instance.overlayRef=this._overlayRef,n.hasBackdrop&&this._overlayRef.backdropClick().subscribe(function(){return r.close()}),n.keyboardShortcuts&&this._overlayRef.keydownEvents().subscribe(function(e){switch(e.keyCode){case u.LEFT_ARROW:s.prev(t);break;case u.RIGHT_ARROW:s.next(t);break;case u.ESCAPE:r.close()}})},e.prototype.close=function(){this._overlayRef.hasAttached()&&this._overlayRef.detach()},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[i]}]},{type:r.Gallery},{type:n.Overlay}]},e}();function p(e,t,o){return new d(e,t,o)}var f=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:i,useValue:e},{provide:d,useFactory:p,deps:[i,r.Gallery,n.Overlay]}]}},t.decorators=[{type:o.NgModule,args:[{imports:[s.CommonModule,n.OverlayModule,r.GalleryModule],declarations:[y],entryComponents:[y]}]}],t.ctorParameters=function(){return[]},t}();e.LightboxComponent=y,e.Lightbox=d,e.lightboxFactory=p,e.LightboxModule=f,e.Éµa=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-gallery-lightbox.umd.min.js.map