!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common"),require("@ngx-gallery/core"),require("@ngx-gallery/lightbox"),require("rxjs/Subject"),require("rxjs/observable/from"),require("rxjs/observable/empty"),require("rxjs/operators/map"),require("rxjs/operators/tap"),require("rxjs/operators/switchMap"),require("rxjs/operators/debounceTime"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngx-gallery/gallerize",["exports","@angular/core","@angular/common","@ngx-gallery/core","@ngx-gallery/lightbox","rxjs/Subject","rxjs/observable/from","rxjs/observable/empty","rxjs/operators/map","rxjs/operators/tap","rxjs/operators/switchMap","rxjs/operators/debounceTime","rxjs/operators"],r):r((e["ngx-gallery"]=e["ngx-gallery"]||{},e["ngx-gallery"].gallerize={}),e.ng.core,e.ng.common,null,null,e.rxjs.Subject,e.rxjs["observable/from"],e.rxjs["observable/empty"],e.rxjs["operators/map"],e.rxjs["operators/tap"],e.rxjs["operators/switchMap"],e.rxjs["operators/debounceTime"],e.rxjs.operators)}(this,function(e,r,i,n,t,l,a,u,p,c,g,x,f){"use strict";var o=function(){function e(e,r,t,o,s){this._el=e,this._renderer=r,this._lightbox=t,this._gallery=o,this.platform=s,this.gallerizer$=new l.Subject,this.gallerize="root"}return e.prototype.ngOnInit=function(){var t=this,o=this._gallery.ref(this.gallerize),s=this.forClass?this.forClass.split(" ").map(function(e){return"."+e}):"";this.gallerizer$.pipe(x.debounceTime(300),g.switchMap(function(){var e=t._el.nativeElement.querySelectorAll("img"+s);if(e&&e.length){var r=[];return a.from(e).pipe(p.map(function(e,r){return t._renderer.setStyle(e,"cursor","pointer"),t._renderer.setProperty(e,"onclick",function(){return t._lightbox.open(r,t.gallerize)}),e}),c.tap(function(e){return r.push(new n.ImageItem(e.src,e.src))}),f.finalize(function(){return o.load(r)}))}return u.empty()})).subscribe(),i.isPlatformBrowser(this.platform)&&(this.observer=new MutationObserver(function(){return t.gallerizer$.next()}),this.observer.observe(this._el.nativeElement,{childList:!0,subtree:!0}))},e.prototype.ngOnDestroy=function(){this.gallerizer$.complete(),this.observer&&this.observer.disconnect()},e.decorators=[{type:r.Directive,args:[{selector:"[gallerize]"}]}],e.ctorParameters=function(){return[{type:r.ElementRef},{type:r.Renderer2},{type:t.Lightbox},{type:n.Gallery},{type:Object,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]}]},e.propDecorators={gallerize:[{type:r.Input}],forClass:[{type:r.Input}]},e}(),s=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[i.CommonModule,n.GalleryModule,t.LightboxModule],declarations:[o],exports:[o]}]}],e.ctorParameters=function(){return[]},e}();e.GallerizeDirective=o,e.GallerizeModule=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-gallery-gallerize.umd.min.js.map